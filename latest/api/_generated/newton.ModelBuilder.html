
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>newton.ModelBuilder &#8212; Newton Physics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=b2b65678" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=938c9ccc"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/_generated/newton.ModelBuilder';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://newton-physics.github.io/newton/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="newton.ParticleFlags" href="newton.ParticleFlags.html" />
    <link rel="prev" title="newton.Model" href="newton.Model.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/newton-logo-light.png" class="logo__image only-light" alt="Newton Physics Logo"/>
    <img src="../../_static/newton-logo-dark.png" class="logo__image only-dark pst-js-only" alt="Newton Physics Logo"/>
  
  
    <p class="title logo__title">Newton Physics <span style='font-size: 0.8em; color: #888;'>(0.2.0)</span></p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/overview.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/visualization.html">
    Visualization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/key-concepts.html">
    Key Concepts
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/tutorials.html">
    Tutorials
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../guide/development.html">
    Development
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/worlds.html">
    Worlds
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/articulations.html">
    Articulations
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/sites.html">
    Sites
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/sensors.html">
    Sensors
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/conventions.html">
    Conventions
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/usd_parsing.html">
    USD Parsing
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/custom_attributes.html">
    Custom Attributes
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/extended_attributes.html">
    Extended Attributes
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/collisions.html">
    Collisions and Contacts
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="../newton.html">
    newton
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_geometry.html">
    newton.geometry
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_ik.html">
    newton.ik
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_math.html">
    newton.math
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_selection.html">
    newton.selection
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_sensors.html">
    newton.sensors
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_solvers.html">
    newton.solvers
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_usd.html">
    newton.usd
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_utils.html">
    newton.utils
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../newton_viewer.html">
    newton.viewer
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../faq.html">
    FAQ
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../migration.html">
    Migration Guide
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../integrations/index.html">
    Integrations
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://github.com/newton-physics/newton">
     GitHub
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/overview.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/visualization.html">
    Visualization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/key-concepts.html">
    Key Concepts
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/development.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/worlds.html">
    Worlds
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/articulations.html">
    Articulations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/sites.html">
    Sites
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/sensors.html">
    Sensors
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/conventions.html">
    Conventions
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/usd_parsing.html">
    USD Parsing
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/custom_attributes.html">
    Custom Attributes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/extended_attributes.html">
    Extended Attributes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/collisions.html">
    Collisions and Contacts
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../newton.html">
    newton
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_geometry.html">
    newton.geometry
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_ik.html">
    newton.ik
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_math.html">
    newton.math
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_selection.html">
    newton.selection
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_sensors.html">
    newton.sensors
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_solvers.html">
    newton.solvers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_usd.html">
    newton.usd
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_utils.html">
    newton.utils
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../newton_viewer.html">
    newton.viewer
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../faq.html">
    FAQ
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../migration.html">
    Migration Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../integrations/index.html">
    Integrations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/newton-physics/newton">
     GitHub
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/key-concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/development.html">Development</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../concepts/worlds.html">Worlds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/articulations.html">Articulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/sites.html">Sites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/sensors.html">Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/usd_parsing.html">USD Parsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/custom_attributes.html">Custom Attributes</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../concepts/extended_attributes.html">Extended Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/collisions.html">Collisions and Contacts</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="reference internal" href="../newton.html">newton</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_geometry.html">newton.geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_ik.html">newton.ik</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_math.html">newton.math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_selection.html">newton.selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_sensors.html">newton.sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_solvers.html">newton.solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_usd.html">newton.usd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_utils.html">newton.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newton_viewer.html">newton.viewer</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Further Reading</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations/index.html">Integrations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Project Links</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/newton-physics/newton"> GitHub</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../newton.html" class="nav-link">newton</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">newton.ModelBuilder</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="newton-modelbuilder">
<h1>newton.ModelBuilder<a class="headerlink" href="#newton-modelbuilder" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="newton.ModelBuilder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">newton.</span></span><span class="sig-name descname"><span class="pre">ModelBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-9.81</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/newton-physics/newton/blob/main/newton/_src/sim/builder.py#L78"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#newton.ModelBuilder" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A helper class for building simulation models at runtime.</p>
<p>Use the ModelBuilder to construct a simulation scene. The ModelBuilder
represents the scene using standard Python data structures like lists,
which are convenient but unsuitable for efficient simulation.
Call <a class="reference internal" href="#newton.ModelBuilder.finalize" title="newton.ModelBuilder.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a> to construct a simulation-ready Model.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">newton</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">newton.solvers</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolverXPBD</span>

<span class="n">builder</span> <span class="o">=</span> <span class="n">newton</span><span class="o">.</span><span class="n">ModelBuilder</span><span class="p">()</span>

<span class="c1"># anchor point (zero mass)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_particle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="c1"># build chain</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">builder</span><span class="o">.</span><span class="n">add_particle</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">builder</span><span class="o">.</span><span class="n">add_spring</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mf">1.0e3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># create model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>

<span class="n">state_0</span><span class="p">,</span> <span class="n">state_1</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">state</span><span class="p">(),</span> <span class="n">model</span><span class="o">.</span><span class="n">state</span><span class="p">()</span>
<span class="n">control</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">control</span><span class="p">()</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">SolverXPBD</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">state_0</span><span class="o">.</span><span class="n">clear_forces</span><span class="p">()</span>
    <span class="n">contacts</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">collide</span><span class="p">(</span><span class="n">state_0</span><span class="p">)</span>
    <span class="n">solver</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">state_0</span><span class="p">,</span> <span class="n">state_1</span><span class="p">,</span> <span class="n">control</span><span class="p">,</span> <span class="n">contacts</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">/</span> <span class="mf">60.0</span><span class="p">)</span>
    <span class="n">state_0</span><span class="p">,</span> <span class="n">state_1</span> <span class="o">=</span> <span class="n">state_1</span><span class="p">,</span> <span class="n">state_0</span>
</pre></div>
</div>
<section id="world-grouping">
<h2>World Grouping<a class="headerlink" href="#world-grouping" title="Link to this heading">#</a></h2>
<p>ModelBuilder supports world grouping to organize entities for multi-world simulations.
Each entity (particle, body, shape, joint, articulation) has an associated world index:</p>
<ul class="simple">
<li><p>Index -1: Global entities shared across all worlds (e.g., ground plane)</p></li>
<li><p>Index 0, 1, 2, …: World-specific entities</p></li>
</ul>
<p>There are two ways to assign world indices:</p>
<ol class="arabic">
<li><p><strong>Direct entity creation</strong>: Entities inherit the builder’s <cite>current_world</cite> value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">current_world</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>  <span class="c1"># Following entities will be global</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_ground_plane</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">current_world</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Following entities will be in world 0</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_body</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><strong>Using add_world()</strong>: ALL entities from the sub-builder are assigned to a new world:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">robot</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">robot</span><span class="o">.</span><span class="n">add_body</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># World assignments here will be overridden</span>

<span class="n">main</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">main</span><span class="o">.</span><span class="n">add_world</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>  <span class="c1"># All robot entities -&gt; world 0</span>
<span class="n">main</span><span class="o">.</span><span class="n">add_world</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>  <span class="c1"># All robot entities -&gt; world 1</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is strongly recommended to use the ModelBuilder to construct a simulation rather
than creating your own Model object directly, however it is possible to do so if
desired.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CustomAttribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assignment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">AttributeAssignment.MODEL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">references</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usd_attribute_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjcf_attribute_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urdf_attribute_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usd_value_transformer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjcf_value_transformer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urdf_value_transformer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Represents a custom attribute definition for the ModelBuilder.
This is used to define custom attributes that are not part of the standard ModelBuilder API.
Custom attributes can be defined for the <a class="reference internal" href="newton.Model.html#newton.Model" title="newton.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <a class="reference internal" href="newton.State.html#newton.State" title="newton.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>, <a class="reference internal" href="newton.Control.html#newton.Control" title="newton.Control"><code class="xref py py-class docutils literal notranslate"><span class="pre">Control</span></code></a>, or <a class="reference internal" href="newton.Contacts.html#newton.Contacts" title="newton.Contacts"><code class="xref py py-class docutils literal notranslate"><span class="pre">Contacts</span></code></a> objects, depending on the <a class="reference internal" href="newton.Model.html#newton.Model.AttributeAssignment" title="newton.Model.AttributeAssignment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model.AttributeAssignment</span></code></a> category.
Custom attributes must be declared before use via the <a class="reference internal" href="#newton.ModelBuilder.add_custom_attribute" title="newton.ModelBuilder.add_custom_attribute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newton.ModelBuilder.add_custom_attribute()</span></code></a> method.</p>
<p>See <a class="reference internal" href="../../concepts/custom_attributes.html#custom-attributes"><span class="std std-ref">Custom Attributes</span></a> for more information.</p>
<dl class="field-list simple">
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assignment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">AttributeAssignment.MODEL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">references</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usd_attribute_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjcf_attribute_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urdf_attribute_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usd_value_transformer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjcf_value_transformer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urdf_value_transformer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.__init__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.build_array">
<span class="sig-name descname"><span class="pre">build_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requires_grad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.build_array" title="Link to this definition">#</a></dt>
<dd><p>Build wp.array (or list for string dtype) from count, dtype, default and overrides.</p>
<p>For string dtype, returns a Python list[str] instead of a Warp array.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.assignment">
<span class="sig-name descname"><span class="pre">assignment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="newton.Model.html#newton.Model.AttributeAssignment" title="newton._src.sim.model.Model.AttributeAssignment"><span class="pre">AttributeAssignment</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.assignment" title="Link to this definition">#</a></dt>
<dd><p>Assignment category (see <a class="reference internal" href="newton.Model.html#newton.Model.AttributeAssignment" title="newton.Model.AttributeAssignment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model.AttributeAssignment</span></code></a>), defaults to <a class="reference internal" href="newton.Model.html#newton.Model.AttributeAssignment.MODEL" title="newton.Model.AttributeAssignment.MODEL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Model.AttributeAssignment.MODEL</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.dtype">
<span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><span class="pre">type</span></a></em><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.dtype" title="Link to this definition">#</a></dt>
<dd><p>Warp dtype (e.g., wp.float32, wp.int32, wp.bool, wp.vec3) that is compatible with Warp arrays,
or <code class="docutils literal notranslate"><span class="pre">str</span></code> for string attributes that remain as Python lists.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.frequency">
<span class="sig-name descname"><span class="pre">frequency</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="newton.Model.html#newton.Model.AttributeFrequency" title="newton._src.sim.model.Model.AttributeFrequency"><span class="pre">AttributeFrequency</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></em><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.frequency" title="Link to this definition">#</a></dt>
<dd><p>Frequency category that determines how the attribute is indexed in the Model.</p>
<dl class="simple">
<dt>Can be either:</dt><dd><ul class="simple">
<li><p>A <a class="reference internal" href="newton.Model.html#newton.Model.AttributeFrequency" title="newton.Model.AttributeFrequency"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model.AttributeFrequency</span></code></a> enum value for built-in frequencies (BODY, SHAPE, JOINT, etc.)
Uses dict-based storage where keys are entity indices, allowing sparse assignment.</p></li>
<li><p>A string for custom frequencies (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;mujoco:pair&quot;</span></code>). Uses list-based storage for
sequential data appended via <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_custom_values()</span></code>. All attributes sharing the same
custom frequency must have the same count, validated at finalize time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.frequency_key">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frequency_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="newton.Model.html#newton.Model.AttributeFrequency" title="newton._src.sim.model.Model.AttributeFrequency"><span class="pre">AttributeFrequency</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></em><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.frequency_key" title="Link to this definition">#</a></dt>
<dd><p>Return the resolved frequency, with namespace prepended for custom string frequencies.</p>
<p>For string frequencies: returns “namespace:frequency” if namespace is set, otherwise just “frequency”.
For enum frequencies: returns the enum value unchanged.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.is_custom_frequency">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_custom_frequency</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.is_custom_frequency" title="Link to this definition">#</a></dt>
<dd><p>Check if this attribute uses a custom (string) frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the frequency is a string (custom frequency), False if it’s a
Model.AttributeFrequency enum (built-in frequency like BODY, SHAPE, etc.).</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.key">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></em><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.key" title="Link to this definition">#</a></dt>
<dd><p>name” or “name” if no namespace is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Return the full name of the attribute, formatted as “namespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.CustomAttribute.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></em><a class="headerlink" href="#newton.ModelBuilder.CustomAttribute.name" title="Link to this definition">#</a></dt>
<dd><p>Variable name to expose on the Model. Must be a valid Python identifier.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JointDofConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-MAXVAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">MAXVAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actuator_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Describes a joint axis (a single degree of freedom) that can have limits and be driven towards a target.</p>
<dl class="field-list simple">
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.create_unlimited">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_unlimited</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.create_unlimited" title="Link to this definition">#</a></dt>
<dd><p>Creates a JointDofConfig with no limits.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-MAXVAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">MAXVAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actuator_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.__init__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.actuator_mode">
<span class="sig-name descname"><span class="pre">actuator_mode</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.actuator_mode" title="Link to this definition">#</a></dt>
<dd><p>Actuator mode for this DOF. Determines which actuators are installed (see <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode" title="newton.ActuatorMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">ActuatorMode</span></code></a>).
If None, the mode is inferred from gains and targets.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.armature">
<span class="sig-name descname"><span class="pre">armature</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.armature" title="Link to this definition">#</a></dt>
<dd><p>Artificial inertia added around the joint axis. Defaults to 1e-2.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.axis">
<span class="sig-name descname"><span class="pre">axis</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.axis" title="Link to this definition">#</a></dt>
<dd><p>The 3D joint axis in the joint parent anchor frame.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.effort_limit">
<span class="sig-name descname"><span class="pre">effort_limit</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.effort_limit" title="Link to this definition">#</a></dt>
<dd><p>Maximum effort (force or torque) the joint axis can exert. Defaults to 1e6.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.friction">
<span class="sig-name descname"><span class="pre">friction</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.friction" title="Link to this definition">#</a></dt>
<dd><p>Friction coefficient for the joint axis. Defaults to 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_kd">
<span class="sig-name descname"><span class="pre">limit_kd</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_kd" title="Link to this definition">#</a></dt>
<dd><p>The damping stiffness of the joint axis limits. Defaults to 1e1.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_ke">
<span class="sig-name descname"><span class="pre">limit_ke</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_ke" title="Link to this definition">#</a></dt>
<dd><p>The elastic stiffness of the joint axis limits. Defaults to 1e4.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_lower">
<span class="sig-name descname"><span class="pre">limit_lower</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_lower" title="Link to this definition">#</a></dt>
<dd><p>The lower position limit of the joint axis. Defaults to -MAXVAL (unlimited).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_upper">
<span class="sig-name descname"><span class="pre">limit_upper</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_upper" title="Link to this definition">#</a></dt>
<dd><p>The upper position limit of the joint axis. Defaults to MAXVAL (unlimited).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.target_kd">
<span class="sig-name descname"><span class="pre">target_kd</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.target_kd" title="Link to this definition">#</a></dt>
<dd><p>The derivative gain of the target drive PD controller. Defaults to 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.target_ke">
<span class="sig-name descname"><span class="pre">target_ke</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.target_ke" title="Link to this definition">#</a></dt>
<dd><p>The proportional gain of the target drive PD controller. Defaults to 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.target_pos">
<span class="sig-name descname"><span class="pre">target_pos</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.target_pos" title="Link to this definition">#</a></dt>
<dd><p>The target position of the joint axis.
If the initial <cite>target_pos</cite> is outside the limits,
it defaults to the midpoint of <cite>limit_lower</cite> and <cite>limit_upper</cite>. Otherwise, defaults to 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.target_vel">
<span class="sig-name descname"><span class="pre">target_vel</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.target_vel" title="Link to this definition">#</a></dt>
<dd><p>The target velocity of the joint axis.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.velocity_limit">
<span class="sig-name descname"><span class="pre">velocity_limit</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.velocity_limit" title="Link to this definition">#</a></dt>
<dd><p>Maximum velocity the joint axis can achieve. Defaults to 1e6.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ShapeConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2500.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restitution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torsional_friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rolling_friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0005</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contact_margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_solid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_shape_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_particle_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf_narrow_band_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-0.1,</span> <span class="pre">0.1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf_target_voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf_max_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_hydroelastic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_hydro</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Represents the properties of a collision shape used in simulation.</p>
<dl class="field-list simple">
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2500.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restitution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torsional_friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rolling_friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0005</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contact_margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_solid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_shape_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_particle_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf_narrow_band_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-0.1,</span> <span class="pre">0.1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf_target_voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf_max_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_hydroelastic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_hydro</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.__init__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.mark_as_site">
<span class="sig-name descname"><span class="pre">mark_as_site</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.mark_as_site" title="Link to this definition">#</a></dt>
<dd><p>Marks this shape as a site and enforces all site invariants.</p>
<p>Sets:
- is_site = True
- has_shape_collision = False
- has_particle_collision = False
- density = 0.0
- collision_group = 0</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.validate" title="Link to this definition">#</a></dt>
<dd><p>Validate ShapeConfig parameters.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.collision_filter_parent">
<span class="sig-name descname"><span class="pre">collision_filter_parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.collision_filter_parent" title="Link to this definition">#</a></dt>
<dd><p>Whether to inherit collision filtering from the parent. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.collision_group">
<span class="sig-name descname"><span class="pre">collision_group</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.collision_group" title="Link to this definition">#</a></dt>
<dd><p>The collision group ID for the shape. Defaults to 1 (default group). Set to 0 to disable collisions for this shape.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.density">
<span class="sig-name descname"><span class="pre">density</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.density" title="Link to this definition">#</a></dt>
<dd><p>The density of the shape material.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.flags">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.flags" title="Link to this definition">#</a></dt>
<dd><p>Returns the flags for the shape.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.has_particle_collision">
<span class="sig-name descname"><span class="pre">has_particle_collision</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.has_particle_collision" title="Link to this definition">#</a></dt>
<dd><p>Whether the shape can collide with particles. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.has_shape_collision">
<span class="sig-name descname"><span class="pre">has_shape_collision</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.has_shape_collision" title="Link to this definition">#</a></dt>
<dd><p>Whether the shape can collide with other shapes. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.is_hydroelastic">
<span class="sig-name descname"><span class="pre">is_hydroelastic</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.is_hydroelastic" title="Link to this definition">#</a></dt>
<dd><p>Whether the shape collides using SDF-based hydroelastics. For hydroelastic collisions, both participating shapes must have is_hydroelastic set to True. Defaults to False.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hydroelastic collision handling only works with volumetric shapes and in particular will not work for shapes like flat meshes or cloth.
This flag will be automatically set to False for planes and heightfields in <a class="reference internal" href="#newton.ModelBuilder.add_shape" title="newton.ModelBuilder.add_shape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelBuilder.add_shape()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.is_site">
<span class="sig-name descname"><span class="pre">is_site</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.is_site" title="Link to this definition">#</a></dt>
<dd><p>Indicates whether the shape is a site (non-colliding reference point). Directly setting this to True will NOT enforce site invariants. Use <cite>mark_as_site()</cite> or set via the <cite>flags</cite> property to ensure invariants. Defaults to False.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.is_solid">
<span class="sig-name descname"><span class="pre">is_solid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.is_solid" title="Link to this definition">#</a></dt>
<dd><p>Indicates whether the shape is solid or hollow. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.is_visible">
<span class="sig-name descname"><span class="pre">is_visible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.is_visible" title="Link to this definition">#</a></dt>
<dd><p>Indicates whether the shape is visible in the simulation. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.k_hydro">
<span class="sig-name descname"><span class="pre">k_hydro</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.k_hydro" title="Link to this definition">#</a></dt>
<dd><p>Contact stiffness coefficient for hydroelastic collisions. Used by MuJoCo, Featherstone, SemiImplicit when is_hydroelastic is True.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For MuJoCo, stiffness values will internally be scaled by masses.
Users should choose k_hydro to match their desired force-to-penetration ratio.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.ka">
<span class="sig-name descname"><span class="pre">ka</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.ka" title="Link to this definition">#</a></dt>
<dd><p>The contact adhesion distance. Used by SemiImplicit, Featherstone.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.kd">
<span class="sig-name descname"><span class="pre">kd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.kd" title="Link to this definition">#</a></dt>
<dd><p>The contact damping coefficient. Used by SemiImplicit, Featherstone, MuJoCo.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.ke">
<span class="sig-name descname"><span class="pre">ke</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2500.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.ke" title="Link to this definition">#</a></dt>
<dd><p>The contact elastic stiffness. Used by SemiImplicit, Featherstone, MuJoCo.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.kf">
<span class="sig-name descname"><span class="pre">kf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.kf" title="Link to this definition">#</a></dt>
<dd><p>The friction damping coefficient. Used by SemiImplicit, Featherstone.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.mu">
<span class="sig-name descname"><span class="pre">mu</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.mu" title="Link to this definition">#</a></dt>
<dd><p>The coefficient of friction. Used by all solvers.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.restitution">
<span class="sig-name descname"><span class="pre">restitution</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.restitution" title="Link to this definition">#</a></dt>
<dd><p>The coefficient of restitution. Used by XPBD. To take effect, enable restitution in solver constructor via <code class="docutils literal notranslate"><span class="pre">enable_restitution=True</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.rolling_friction">
<span class="sig-name descname"><span class="pre">rolling_friction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0005</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.rolling_friction" title="Link to this definition">#</a></dt>
<dd><p>The coefficient of rolling friction (resistance to rolling motion). Used by XPBD, MuJoCo.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.sdf_narrow_band_range">
<span class="sig-name descname"><span class="pre">sdf_narrow_band_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(-0.1,</span> <span class="pre">0.1)</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.sdf_narrow_band_range" title="Link to this definition">#</a></dt>
<dd><p>The narrow band distance range (inner, outer) for SDF computation. Only used for mesh shapes when SDF is enabled.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.thickness">
<span class="sig-name descname"><span class="pre">thickness</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-05</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.thickness" title="Link to this definition">#</a></dt>
<dd><p>Outward offset from the shape’s surface for collision detection.
Extends the effective collision surface outward by this amount. When two shapes collide,
their thicknesses are summed (thickness_a + thickness_b) to determine the total separation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.torsional_friction">
<span class="sig-name descname"><span class="pre">torsional_friction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.25</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.torsional_friction" title="Link to this definition">#</a></dt>
<dd><p>The coefficient of torsional friction (resistance to spinning at contact point). Used by XPBD, MuJoCo.</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-9.81</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.__init__" title="Link to this definition">#</a></dt>
<dd><p>Initializes a new ModelBuilder instance for constructing simulation models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>up_axis</strong> (<em>AxisType</em><em>, </em><em>optional</em>) – The axis to use as the “up” direction in the simulation.
Defaults to Axis.Z.</p></li>
<li><p><strong>gravity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – The magnitude of gravity to apply along the up axis.
Defaults to -9.81.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_articulation">
<span class="sig-name descname"><span class="pre">add_articulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_articulation" title="Link to this definition">#</a></dt>
<dd><p>Adds an articulation to the model from a list of joint indices.</p>
<p>The articulation is a set of joints that must be contiguous and monotonically increasing.
Some functions, such as forward kinematics <a class="reference internal" href="newton.eval_fk.html#newton.eval_fk" title="newton.eval_fk"><code class="xref py py-func docutils literal notranslate"><span class="pre">newton.eval_fk()</span></code></a>, are parallelized over articulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>joints</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – List of joint indices to include in the articulation. Must be contiguous and monotonic.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the articulation. If None, a default key will be created.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for ARTICULATION frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If joints are not contiguous, not monotonic, or belong to different worlds.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">link1</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">link2</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">link3</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">joint1</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_joint_revolute</span><span class="p">(</span><span class="n">parent</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">link1</span><span class="p">)</span>
<span class="n">joint2</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_joint_revolute</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">link1</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">link2</span><span class="p">)</span>
<span class="n">joint3</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_joint_revolute</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">link2</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">link3</span><span class="p">)</span>

<span class="c1"># Create articulation from the joints</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_articulation</span><span class="p">([</span><span class="n">joint1</span><span class="p">,</span> <span class="n">joint2</span><span class="p">,</span> <span class="n">joint3</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_body">
<span class="sig-name descname"><span class="pre">add_body</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">com</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inertia</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lock_inertia</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_body" title="Link to this definition">#</a></dt>
<dd><p>Adds a stand-alone free-floating rigid body to the model.</p>
<p>This is a convenience method that creates a single-body articulation with a free joint,
allowing the body to move freely in 6 degrees of freedom. Internally, this method calls:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#newton.ModelBuilder.add_link" title="newton.ModelBuilder.add_link"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_link()</span></code></a> to create the body</p></li>
<li><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_free" title="newton.ModelBuilder.add_joint_free"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_joint_free()</span></code></a> to add a free joint connecting the body to the world</p></li>
<li><p><a class="reference internal" href="#newton.ModelBuilder.add_articulation" title="newton.ModelBuilder.add_articulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_articulation()</span></code></a> to create a new articulation from the joint</p></li>
</ol>
<p>For creating articulations with multiple linked bodies, use <a class="reference internal" href="#newton.ModelBuilder.add_link" title="newton.ModelBuilder.add_link"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_link()</span></code></a>,
the appropriate joint methods, and <a class="reference internal" href="#newton.ModelBuilder.add_articulation" title="newton.ModelBuilder.add_articulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_articulation()</span></code></a> directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xform</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.quatf.html#warp.quatf" title="(in Warp v1.11.1)"><em>quatf</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.transformf.html#warp.transformf" title="(in Warp v1.11.1)"><em>transformf</em></a><em> | </em><em>None</em>) – The location of the body in the world frame.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Artificial inertia added to the body. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_body_armature</span></code> is used.</p></li>
<li><p><strong>com</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em> | </em><em>None</em>) – The center of mass of the body w.r.t its origin. If None, the center of mass is assumed to be at the origin.</p></li>
<li><p><strong>inertia</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.mat33f.html#warp.mat33f" title="(in Warp v1.11.1)"><em>mat33f</em></a><em> | </em><em>None</em>) – The 3x3 inertia tensor of the body (specified relative to the center of mass). If None, the inertia tensor is assumed to be zero.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of the body.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Key of the body. When provided, the auto-created free joint and articulation
are assigned keys <code class="docutils literal notranslate"><span class="pre">{key}_free_joint</span></code> and <code class="docutils literal notranslate"><span class="pre">{key}_articulation</span></code> respectively.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
<li><p><strong>lock_inertia</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, prevents subsequent shape additions from modifying this body’s mass,
center of mass, or inertia. This does not affect merging behavior in
<a class="reference internal" href="#newton.ModelBuilder.collapse_fixed_joints" title="newton.ModelBuilder.collapse_fixed_joints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collapse_fixed_joints()</span></code></a>, which always accumulates mass and inertia across merged bodies.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the body in the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mass is zero then the body is treated as kinematic with no dynamics.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_builder">
<span class="sig-name descname"><span class="pre">add_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_builder" title="Link to this definition">#</a></dt>
<dd><p>Copies the data from another <cite>ModelBuilder</cite> into this <cite>ModelBuilder</cite>.</p>
<p>All entities from the source builder are added to this builder’s current world context
(the value of <cite>self.current_world</cite>). Any world assignments that existed in the source
builder are overwritten - all entities will be assigned to the current world.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">main_builder</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">sub_builder</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">sub_builder</span><span class="o">.</span><span class="n">add_body</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">sub_builder</span><span class="o">.</span><span class="n">add_shape_box</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Adds all entities from sub_builder to main_builder&#39;s current world (-1 by default)</span>
<span class="n">main_builder</span><span class="o">.</span><span class="n">add_builder</span><span class="p">(</span><span class="n">sub_builder</span><span class="p">)</span>

<span class="c1"># With transform</span>
<span class="n">main_builder</span><span class="o">.</span><span class="n">add_builder</span><span class="p">(</span><span class="n">sub_builder</span><span class="p">,</span> <span class="n">xform</span><span class="o">=</span><span class="n">wp</span><span class="o">.</span><span class="n">transform</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> (<a class="reference internal" href="#newton.ModelBuilder" title="newton.ModelBuilder"><em>ModelBuilder</em></a>) – The model builder to copy data from.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em>) – Optional offset transform applied to root bodies.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_cloth_grid">
<span class="sig-name descname"><span class="pre">add_cloth_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_winding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_springs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes_triangles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_cloth_grid" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a regular planar cloth grid</p>
<p>Creates a rectangular grid of particles with FEM triangles and bending elements
automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The position of the cloth in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.quatf.html#warp.quatf" title="(in Warp v1.11.1)"><em>quatf</em></a>) – The orientation of the cloth in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The velocity of the cloth in world space</p></li>
<li><p><strong>dim_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The number of rectangular cells along the x-axis</p></li>
<li><p><strong>dim_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The number of rectangular cells along the y-axis</p></li>
<li><p><strong>cell_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The width of each cell in the x-direction</p></li>
<li><p><strong>cell_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The width of each cell in the y-direction</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The mass of each particle</p></li>
<li><p><strong>reverse_winding</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Flip the winding of the mesh</p></li>
<li><p><strong>fix_left</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the left-most edge of particles kinematic (fixed in place)</p></li>
<li><p><strong>fix_right</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the right-most edge of particles kinematic</p></li>
<li><p><strong>fix_top</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the top-most edge of particles kinematic</p></li>
<li><p><strong>fix_bottom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the bottom-most edge of particles kinematic</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_cloth_mesh">
<span class="sig-name descname"><span class="pre">add_cloth_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_springs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes_triangles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes_springs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_cloth_mesh" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a cloth model from a regular triangle mesh</p>
<p>Creates one FEM triangle element and one bending element for every face
and edge in the input triangle mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The position of the cloth in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.quatf.html#warp.quatf" title="(in Warp v1.11.1)"><em>quatf</em></a>) – The orientation of the cloth in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The velocity of the cloth in world space</p></li>
<li><p><strong>vertices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em>]</em>) – A list of vertex positions</p></li>
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – A list of triangle indices, 3 entries per-face</p></li>
<li><p><strong>density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The density per-area of the mesh</p></li>
<li><p><strong>particle_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The particle_radius which controls particle based collisions.</p></li>
<li><p><strong>custom_attributes_particles</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values for the particles.</p></li>
<li><p><strong>custom_attributes_edges</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values for the edges.</p></li>
<li><p><strong>custom_attributes_triangles</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values for the triangles.</p></li>
<li><p><strong>custom_attributes_springs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values for the springs.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The mesh should be two-manifold.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_custom_attribute">
<span class="sig-name descname"><span class="pre">add_custom_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attribute</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_custom_attribute" title="Link to this definition">#</a></dt>
<dd><p>Define a custom per-entity attribute to be added to the Model.
See <a class="reference internal" href="../../concepts/custom_attributes.html#custom-attributes"><span class="std std-ref">Custom Attributes</span></a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attribute</strong> (<a class="reference internal" href="#newton.ModelBuilder.CustomAttribute" title="newton.ModelBuilder.CustomAttribute"><em>CustomAttribute</em></a>) – The custom attribute to add.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">builder = newton.ModelBuilder()</span>
<span class="go">builder.add_custom_attribute(</span>
<span class="go">    newton.ModelBuilder.CustomAttribute(</span>
<span class="go">        name=&quot;my_attribute&quot;,</span>
<span class="go">        frequency=newton.Model.AttributeFrequency.BODY,</span>
<span class="go">        dtype=wp.float32,</span>
<span class="go">        default=20.0,</span>
<span class="go">        assignment=newton.Model.AttributeAssignment.MODEL,</span>
<span class="go">        namespace=&quot;my_namespace&quot;,</span>
<span class="go">    )</span>
<span class="go">)</span>
<span class="go">builder.add_body(custom_attributes={&quot;my_namespace:my_attribute&quot;: 30.0})</span>
<span class="go">builder.add_body()  # we leave out the custom_attributes, so the attribute will use the default value 20.0</span>
<span class="go">model = builder.finalize()</span>
<span class="go"># the model has now a Model.AttributeNamespace object with the name &quot;my_namespace&quot;</span>
<span class="go"># and an attribute &quot;my_attribute&quot; that is a wp.array of shape (body_count, 1)</span>
<span class="go"># with the default value 20.0</span>
<span class="go">assert np.allclose(model.my_namespace.my_attribute.numpy(), [30.0, 20.0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_custom_values">
<span class="sig-name descname"><span class="pre">add_custom_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_custom_values" title="Link to this definition">#</a></dt>
<dd><p>Append values to custom attributes with custom string frequencies.</p>
<p>Each keyword argument specifies an attribute key and the value to append. Values are
stored in a list and appended sequentially for robust indexing. Only works with
attributes that have a custom string frequency (not built-in enum frequencies).</p>
<p>This is useful for custom entity types that aren’t built into the model,
such as user-defined groupings or solver-specific data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) – Mapping of attribute keys to values. Keys should be the full
attribute key (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;mujoco:pair_geom1&quot;</span></code> or just <code class="docutils literal notranslate"><span class="pre">&quot;my_attr&quot;</span></code> if no namespace).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict mapping attribute keys to the index where each value was added.
If all attributes had the same count before the call, all indices will be equal.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.14)"><strong>AttributeError</strong></a> – If an attribute key is not defined.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.14)"><strong>TypeError</strong></a> – If an attribute has an enum frequency (must have custom frequency).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span><span class="o">.</span><span class="n">add_custom_values</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span>
        <span class="s2">&quot;mujoco:pair_geom1&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;mujoco:pair_geom2&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;mujoco:pair_world&quot;</span><span class="p">:</span> <span class="n">builder</span><span class="o">.</span><span class="n">current_world</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="c1"># Returns: {&#39;mujoco:pair_geom1&#39;: 0, &#39;mujoco:pair_geom2&#39;: 0, &#39;mujoco:pair_world&#39;: 0}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_edge">
<span class="sig-name descname"><span class="pre">add_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_edge" title="Link to this definition">#</a></dt>
<dd><p>Adds a bending edge element between two adjacent triangles in the cloth mesh, defined by four vertices.</p>
<p>The bending energy model follows the discrete shell formulation from [Grinspun et al. 2003].
The bending stiffness is controlled by the <cite>edge_ke</cite> parameter, and the bending damping by the <cite>edge_kd</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the first particle, i.e., opposite vertex 0</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the second particle, i.e., opposite vertex 1</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the third particle, i.e., vertex 0</p></li>
<li><p><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the fourth particle, i.e., vertex 1</p></li>
<li><p><strong>rest</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The rest angle across the edge in radians, if not specified it will be computed</p></li>
<li><p><strong>edge_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The bending stiffness coefficient</p></li>
<li><p><strong>edge_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The bending damping coefficient</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the edge.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The edge lies between the particles indexed by ‘k’ and ‘l’ parameters with the opposing
vertices indexed by ‘i’ and ‘j’. This defines two connected triangles with counterclockwise
winding: (i, k, l), (j, l, k).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_edges">
<span class="sig-name descname"><span class="pre">add_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_edges" title="Link to this definition">#</a></dt>
<dd><p>Adds bending edge elements between two adjacent triangles in the cloth mesh, defined by four vertices.</p>
<p>The bending energy model follows the discrete shell formulation from [Grinspun et al. 2003].
The bending stiffness is controlled by the <cite>edge_ke</cite> parameter, and the bending damping by the <cite>edge_kd</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – The indices of the first particles, i.e., opposite vertex 0</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – The indices of the second particles, i.e., opposite vertex 1</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – The indices of the third particles, i.e., vertex 0</p></li>
<li><p><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – The indices of the fourth particles, i.e., vertex 1</p></li>
<li><p><strong>rest</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The rest angles across the edges in radians, if not specified they will be computed</p></li>
<li><p><strong>edge_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The bending stiffness coefficients</p></li>
<li><p><strong>edge_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The bending damping coefficients</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The edge lies between the particles indexed by ‘k’ and ‘l’ parameters with the opposing
vertices indexed by ‘i’ and ‘j’. This defines two connected triangles with counterclockwise
winding: (i, k, l), (j, l, k).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_equality_constraint">
<span class="sig-name descname"><span class="pre">add_equality_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constraint_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torquescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relpose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polycoef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_equality_constraint" title="Link to this definition">#</a></dt>
<dd><p>Generic method to add any type of equality constraint to this ModelBuilder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>constraint_type</strong> (<em>constant</em>) – Type of constraint (‘connect’, ‘weld’, ‘joint’)</p></li>
<li><p><strong>body1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the first body participating in the constraint (-1 for world)</p></li>
<li><p><strong>body2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the second body participating in the constraint (-1 for world)</p></li>
<li><p><strong>anchor</strong> (<em>Vec3</em>) – Anchor point on body1</p></li>
<li><p><strong>torquescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Scales the angular residual for weld</p></li>
<li><p><strong>relpose</strong> (<em>Transform</em>) – Relative pose of body2 for weld. If None, the identity transform is used.</p></li>
<li><p><strong>joint1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the first joint for joint coupling</p></li>
<li><p><strong>joint2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the second joint for joint coupling</p></li>
<li><p><strong>polycoef</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>]</em>) – Polynomial coefficients for joint coupling</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Optional constraint name</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether constraint is active</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – Custom attributes to set on the constraint</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint index</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_equality_constraint_connect">
<span class="sig-name descname"><span class="pre">add_equality_constraint_connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_equality_constraint_connect" title="Link to this definition">#</a></dt>
<dd><p>Adds a connect equality constraint to the model.
This constraint connects two bodies at a point. It effectively defines a ball joint outside the kinematic tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the first body participating in the constraint (-1 for world)</p></li>
<li><p><strong>body2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the second body participating in the constraint (-1 for world)</p></li>
<li><p><strong>anchor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em> | </em><em>None</em>) – Anchor point on body1</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Optional constraint name</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether constraint is active</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Custom attributes to set on the constraint</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint index</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_equality_constraint_joint">
<span class="sig-name descname"><span class="pre">add_equality_constraint_joint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joint1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polycoef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_equality_constraint_joint" title="Link to this definition">#</a></dt>
<dd><p>Adds a joint equality constraint to the model.
Constrains the position or angle of one joint to be a quartic polynomial of another joint. Only scalar joint types (prismatic and revolute) can be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>joint1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the first joint</p></li>
<li><p><strong>joint2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the second joint</p></li>
<li><p><strong>polycoef</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – Polynomial coefficients for joint coupling</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Optional constraint name</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether constraint is active</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Custom attributes to set on the constraint</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint index</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_equality_constraint_weld">
<span class="sig-name descname"><span class="pre">add_equality_constraint_weld</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torquescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relpose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_equality_constraint_weld" title="Link to this definition">#</a></dt>
<dd><p>Adds a weld equality constraint to the model.
Attaches two bodies to each other, removing all relative degrees of freedom between them (softly).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the first body participating in the constraint (-1 for world)</p></li>
<li><p><strong>body2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Index of the second body participating in the constraint (-1 for world)</p></li>
<li><p><strong>anchor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em> | </em><em>None</em>) – Coordinates of the weld point relative to body2</p></li>
<li><p><strong>torquescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Scales the angular residual for weld</p></li>
<li><p><strong>relpose</strong> (<em>Transform</em>) – Relative pose of body2 relative to body1. If None, the identity transform is used</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Optional constraint name</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether constraint is active</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Custom attributes to set on the constraint</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint index</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_free_joints_to_floating_bodies">
<span class="sig-name descname"><span class="pre">add_free_joints_to_floating_bodies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_bodies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_free_joints_to_floating_bodies" title="Link to this definition">#</a></dt>
<dd><p>Adds a free joint and single-joint articulation to every rigid body that is not a child in any joint
and has positive mass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_bodies</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>] or </em><em>None</em><em>, </em><em>optional</em>) – The set of body indices to consider for adding free joints.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Bodies that are already a child in any joint will be skipped.</p></li>
<li><p>Only bodies with strictly positive mass will receive a free joint.</p></li>
<li><p>Each free joint is added to its own single-joint articulation.</p></li>
<li><p>This is useful for ensuring that all floating (unconnected) bodies are properly articulated.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_ground_plane">
<span class="sig-name descname"><span class="pre">add_ground_plane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_ground_plane" title="Link to this definition">#</a></dt>
<dd><p>Adds a ground plane collision shape to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The vertical offset of the ground plane along the up-vector axis. Positive values raise the plane, negative values lower it. Defaults to <cite>0.0</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint">
<span class="sig-name descname"><span class="pre">add_joint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joint_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linear_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angular_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint" title="Link to this definition">#</a></dt>
<dd><p>Generic method to add any type of joint to this ModelBuilder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>joint_type</strong> (<a class="reference internal" href="newton.JointType.html#newton.JointType" title="newton.JointType"><em>JointType</em></a>) – The type of joint to add (see <a class="reference internal" href="../../concepts/articulations.html#joint-types"><span class="std std-ref">Joint types</span></a>).</p></li>
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body (-1 is the world).</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>linear_axes</strong> (list(<a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>)) – The linear axes (see <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>) of the joint,
defined in the joint parent anchor frame.</p></li>
<li><p><strong>angular_axes</strong> (list(<a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>)) – The angular axes (see <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>) of the joint,
defined in the joint parent anchor frame.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The key of the joint (optional).</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform from the parent body frame to the joint parent anchor frame.
If None, the identity transform is used.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform from the child body frame to the joint child anchor frame.
If None, the identity transform is used.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled (not considered by <code class="xref py py-class docutils literal notranslate"><span class="pre">SolverFeatherstone</span></code>).</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute keys (see <a class="reference internal" href="#newton.ModelBuilder.CustomAttribute.key" title="newton.ModelBuilder.CustomAttribute.key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CustomAttribute.key</span></code></a>) to values. Note that custom attributes with frequency <a class="reference internal" href="newton.Model.html#newton.Model.AttributeFrequency.JOINT_DOF" title="newton.Model.AttributeFrequency.JOINT_DOF"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Model.AttributeFrequency.JOINT_DOF</span></code></a> or <a class="reference internal" href="newton.Model.html#newton.Model.AttributeFrequency.JOINT_COORD" title="newton.Model.AttributeFrequency.JOINT_COORD"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Model.AttributeFrequency.JOINT_COORD</span></code></a> can be provided as: (1) lists with length equal to the joint’s DOF or coordinate count, (2) dicts mapping DOF/coordinate indices to values, or (3) scalar values for single-DOF/single-coordinate joints (automatically expanded to lists). Custom attributes with frequency <a class="reference internal" href="newton.Model.html#newton.Model.AttributeFrequency.JOINT" title="newton.Model.AttributeFrequency.JOINT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Model.AttributeFrequency.JOINT</span></code></a> require a single value to be defined.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_ball">
<span class="sig-name descname"><span class="pre">add_joint_ball</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actuator_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_ball" title="Link to this definition">#</a></dt>
<dd><p>Adds a ball (spherical) joint to the model. Its position is defined by a 4D quaternion (xyzw) and its velocity is a 3D vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform from the parent body frame to the joint parent anchor frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform from the child body frame to the joint child anchor frame.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Artificial inertia added around the joint axes. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_armature</span></code> is used.</p></li>
<li><p><strong>friction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Friction coefficient for the joint axes. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.friction</span></code> is used.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT, JOINT_DOF, or JOINT_COORD frequency attributes.</p></li>
<li><p><strong>actuator_mode</strong> (<a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode" title="newton._src.sim.joints.ActuatorMode"><em>ActuatorMode</em></a><em> | </em><em>None</em>) – The actuator mode for this joint’s DOFs. If None, defaults to NONE.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Target position and velocity control for ball joints is currently only supported in <a class="reference internal" href="newton.solvers.SolverMuJoCo.html#newton.solvers.SolverMuJoCo" title="newton.solvers.SolverMuJoCo"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.SolverMuJoCo</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_cable">
<span class="sig-name descname"><span class="pre">add_joint_cable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stretch_stiffness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stretch_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bend_stiffness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bend_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_cable" title="Link to this definition">#</a></dt>
<dd><p>Adds a cable joint to the model. It has two degrees of freedom: one linear (stretch)
that constrains the distance between the attachment points, and one angular (bend/twist)
that penalizes the relative rotation of the attachment frames.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cable joints are supported by <a class="reference internal" href="newton.solvers.SolverVBD.html#newton.solvers.SolverVBD" title="newton.solvers.SolverVBD"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.SolverVBD</span></code></a>, which uses an
AVBD backend for rigid bodies. For cable joints, the stretch and bend behavior
is defined by the parent/child attachment transforms; the joint axis stored in
<a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a> is not currently used directly.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform from the parent body frame to the joint parent anchor frame; its
translation is the attachment point.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform from the child body frame to the joint child anchor frame; its
translation is the attachment point.</p></li>
<li><p><strong>stretch_stiffness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Cable stretch stiffness (stored as <code class="docutils literal notranslate"><span class="pre">target_ke</span></code>) [N/m]. If None, defaults to 1.0e9.</p></li>
<li><p><strong>stretch_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Cable stretch damping (stored as <code class="docutils literal notranslate"><span class="pre">target_kd</span></code>). In <a class="reference internal" href="newton.solvers.SolverVBD.html#newton.solvers.SolverVBD" title="newton.solvers.SolverVBD"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.SolverVBD</span></code></a>
this is a dimensionless (Rayleigh-style) coefficient. If None,
defaults to 0.0.</p></li>
<li><p><strong>bend_stiffness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Cable bend/twist stiffness (stored as <code class="docutils literal notranslate"><span class="pre">target_ke</span></code>) [N*m] (torque per radian). If None,
defaults to 0.0.</p></li>
<li><p><strong>bend_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Cable bend/twist damping (stored as <code class="docutils literal notranslate"><span class="pre">target_kd</span></code>). In <a class="reference internal" href="newton.solvers.SolverVBD.html#newton.solvers.SolverVBD" title="newton.solvers.SolverVBD"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.SolverVBD</span></code></a>
this is a dimensionless (Rayleigh-style) coefficient. If None,
defaults to 0.0.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT, JOINT_DOF, or JOINT_COORD
frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_d6">
<span class="sig-name descname"><span class="pre">add_joint_d6</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linear_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angular_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_d6" title="Link to this definition">#</a></dt>
<dd><p>Adds a generic joint with custom linear and angular axes. The number of axes determines the number of degrees of freedom of the joint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>linear_axes</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a><em>] </em><em>| </em><em>None</em>) – A list of linear axes.</p></li>
<li><p><strong>angular_axes</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a><em>] </em><em>| </em><em>None</em>) – A list of angular axes.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the joint.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform from the parent body frame to the joint parent anchor frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform from the child body frame to the joint child anchor frame.</p></li>
<li><p><strong>armature</strong> – Artificial inertia added around the joint axes. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_armature</span></code> is used.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT, JOINT_DOF, or JOINT_COORD frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_distance">
<span class="sig-name descname"><span class="pre">add_joint_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_distance" title="Link to this definition">#</a></dt>
<dd><p>Adds a distance joint to the model. The distance joint constraints the distance between the joint anchor points on the two bodies (see <a class="reference internal" href="../../concepts/articulations.html#fk-ik"><span class="std std-ref">Forward / Inverse Kinematics</span></a>) it connects to the interval [<cite>min_distance</cite>, <cite>max_distance</cite>].
It has 7 positional degrees of freedom (first 3 linear and then 4 angular dimensions for the orientation quaternion in <cite>xyzw</cite> notation) and 6 velocity degrees of freedom (first 3 linear and then 3 angular velocity dimensions).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform of the joint in the parent body’s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform of the joint in the child body’s local frame.</p></li>
<li><p><strong>min_distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The minimum distance between the bodies (no limit if negative).</p></li>
<li><p><strong>max_distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The maximum distance between the bodies (no limit if negative).</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT, JOINT_DOF, or JOINT_COORD frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Distance joints are currently only supported in <a class="reference internal" href="newton.solvers.SolverXPBD.html#newton.solvers.SolverXPBD" title="newton.solvers.SolverXPBD"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.SolverXPBD</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_fixed">
<span class="sig-name descname"><span class="pre">add_joint_fixed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_fixed" title="Link to this definition">#</a></dt>
<dd><p>Adds a fixed (static) joint to the model. It has no degrees of freedom.
See <a class="reference internal" href="#newton.ModelBuilder.collapse_fixed_joints" title="newton.ModelBuilder.collapse_fixed_joints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collapse_fixed_joints()</span></code></a> for a helper function that removes these fixed joints and merges the connecting bodies to simplify the model and improve stability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform of the joint in the parent body’s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform of the joint in the child body’s local frame.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_free">
<span class="sig-name descname"><span class="pre">add_joint_free</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_free" title="Link to this definition">#</a></dt>
<dd><p>Adds a free joint to the model.
It has 7 positional degrees of freedom (first 3 linear and then 4 angular dimensions for the orientation quaternion in <cite>xyzw</cite> notation) and 6 velocity degrees of freedom (see <a class="reference internal" href="../../concepts/conventions.html#twist-conventions"><span class="std std-ref">Twist conventions in Newton</span></a>).
The positional dofs are initialized by the child body’s transform (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">body_q</span></code> and the <code class="docutils literal notranslate"><span class="pre">xform</span></code> argument to <a class="reference internal" href="#newton.ModelBuilder.add_body" title="newton.ModelBuilder.add_body"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_body()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform of the joint in the parent body’s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform of the joint in the child body’s local frame.</p></li>
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body (-1 by default to use the world frame, e.g. to make the child body and its children a floating-base mechanism).</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT, JOINT_DOF, or JOINT_COORD frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_prismatic">
<span class="sig-name descname"><span class="pre">add_joint_prismatic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actuator_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_prismatic" title="Link to this definition">#</a></dt>
<dd><p>Adds a prismatic (sliding) joint to the model. It has one degree of freedom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform from the parent body frame to the joint parent anchor frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform from the child body frame to the joint child anchor frame.</p></li>
<li><p><strong>axis</strong> (<em>AxisType</em><em> | </em><em>Vec3</em><em> | </em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a>) – The axis of translation in the joint parent anchor frame, which is
the parent body’s local frame transformed by <cite>parent_xform</cite>. It can be a <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a> object
whose settings will be used instead of the other arguments.</p></li>
<li><p><strong>target_pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The target position of the joint.</p></li>
<li><p><strong>target_vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The target velocity of the joint.</p></li>
<li><p><strong>target_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The stiffness of the joint target.</p></li>
<li><p><strong>target_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The damping of the joint target.</p></li>
<li><p><strong>limit_lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The lower limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_lower</span></code> is used.</p></li>
<li><p><strong>limit_upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The upper limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_upper</span></code> is used.</p></li>
<li><p><strong>limit_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The stiffness of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_ke</span></code> is used.</p></li>
<li><p><strong>limit_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The damping of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_kd</span></code> is used.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Artificial inertia added around the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_armature</span></code> is used.</p></li>
<li><p><strong>effort_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Maximum effort (force) the joint axis can exert. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.effort_limit</span></code> is used.</p></li>
<li><p><strong>velocity_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Maximum velocity the joint axis can achieve. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.velocity_limit</span></code> is used.</p></li>
<li><p><strong>friction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Friction coefficient for the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.friction</span></code> is used.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT, JOINT_DOF, or JOINT_COORD frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_revolute">
<span class="sig-name descname"><span class="pre">add_joint_revolute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actuator_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_revolute" title="Link to this definition">#</a></dt>
<dd><p>Adds a revolute (hinge) joint to the model. It has one degree of freedom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) – The transform from the parent body frame to the joint parent anchor frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) – The transform from the child body frame to the joint child anchor frame.</p></li>
<li><p><strong>axis</strong> (<em>AxisType</em><em> | </em><em>Vec3</em><em> | </em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a>) – The axis of rotation in the joint parent anchor frame, which is
the parent body’s local frame transformed by <cite>parent_xform</cite>. It can be a <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a> object
whose settings will be used instead of the other arguments.</p></li>
<li><p><strong>target_pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The target position of the joint.</p></li>
<li><p><strong>target_vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The target velocity of the joint.</p></li>
<li><p><strong>target_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The stiffness of the joint target.</p></li>
<li><p><strong>target_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The damping of the joint target.</p></li>
<li><p><strong>limit_lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The lower limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_lower</span></code> is used.</p></li>
<li><p><strong>limit_upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The upper limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_upper</span></code> is used.</p></li>
<li><p><strong>limit_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The stiffness of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_ke</span></code> is used.</p></li>
<li><p><strong>limit_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The damping of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_kd</span></code> is used.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Artificial inertia added around the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_armature</span></code> is used.</p></li>
<li><p><strong>effort_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Maximum effort (force/torque) the joint axis can exert. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.effort_limit</span></code> is used.</p></li>
<li><p><strong>velocity_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Maximum velocity the joint axis can achieve. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.velocity_limit</span></code> is used.</p></li>
<li><p><strong>friction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Friction coefficient for the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.friction</span></code> is used.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether the joint is enabled.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for JOINT, JOINT_DOF, or JOINT_COORD frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_link">
<span class="sig-name descname"><span class="pre">add_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">com</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inertia</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lock_inertia</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_link" title="Link to this definition">#</a></dt>
<dd><p>Adds a link (rigid body) to the model within an articulation.</p>
<p>This method creates a link without automatically adding a joint. To connect this link
to the articulation structure, you must explicitly call one of the joint methods
(e.g., <a class="reference internal" href="#newton.ModelBuilder.add_joint_revolute" title="newton.ModelBuilder.add_joint_revolute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_joint_revolute()</span></code></a>, <a class="reference internal" href="#newton.ModelBuilder.add_joint_fixed" title="newton.ModelBuilder.add_joint_fixed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_joint_fixed()</span></code></a>, etc.) after creating the link.</p>
<p>After calling this method and one of the joint methods, ensure that an articulation is created using <a class="reference internal" href="#newton.ModelBuilder.add_articulation" title="newton.ModelBuilder.add_articulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_articulation()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xform</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.quatf.html#warp.quatf" title="(in Warp v1.11.1)"><em>quatf</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.transformf.html#warp.transformf" title="(in Warp v1.11.1)"><em>transformf</em></a><em> | </em><em>None</em>) – The location of the body in the world frame.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Artificial inertia added to the body. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_body_armature</span></code> is used.</p></li>
<li><p><strong>com</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em> | </em><em>None</em>) – The center of mass of the body w.r.t its origin. If None, the center of mass is assumed to be at the origin.</p></li>
<li><p><strong>inertia</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.mat33f.html#warp.mat33f" title="(in Warp v1.11.1)"><em>mat33f</em></a><em> | </em><em>None</em>) – The 3x3 inertia tensor of the body (specified relative to the center of mass). If None, the inertia tensor is assumed to be zero.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of the body.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Key of the body (optional).</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
<li><p><strong>lock_inertia</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, prevents subsequent shape additions from modifying this body’s mass,
center of mass, or inertia. This does not affect merging behavior in
<a class="reference internal" href="#newton.ModelBuilder.collapse_fixed_joints" title="newton.ModelBuilder.collapse_fixed_joints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collapse_fixed_joints()</span></code></a>, which always accumulates mass and inertia across merged bodies.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the body in the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mass is zero then the body is treated as kinematic with no dynamics.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_mjcf">
<span class="sig-name descname"><span class="pre">add_mjcf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floating</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_joint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_visuals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_visuals_as_colliders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_meshes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_visuals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_mujoco_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visual_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('visual',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collider_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('collision',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_class_as_colliders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_show_colliders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_self_collisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_inertial_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_nonstatic_links</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static_link_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collapse_fixed_joints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_equality_constraints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_3d_hinge_to_ball_joints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_maxhullvert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctrl_direct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_mjcf" title="Link to this definition">#</a></dt>
<dd><p>Parses MuJoCo XML (MJCF) file and adds the bodies and joints to the given ModelBuilder.
MuJoCo-specific custom attributes are registered on the builder automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The filename of the MuJoCo file to parse, or the MJCF XML string content.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em>) – The transform to apply to the imported mechanism.</p></li>
<li><p><strong>floating</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the articulation is treated as a floating base. If False, the articulation is treated as a fixed base. If None, the articulation is treated as a floating base if a free joint is found in the MJCF, otherwise it is treated as a fixed base.</p></li>
<li><p><strong>base_joint</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>]</em>) – The joint by which the root body is connected to the world. This can be either a string defining the joint axes of a D6 joint with comma-separated positional and angular axis names (e.g. “px,py,rz” for a D6 joint with linear axes in x, y and an angular axis in z) or a dict with joint parameters (see <a class="reference internal" href="#newton.ModelBuilder.add_joint" title="newton.ModelBuilder.add_joint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelBuilder.add_joint()</span></code></a>).</p></li>
<li><p><strong>armature_scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Scaling factor to apply to the MJCF-defined joint armature values.</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The scaling factor to apply to the imported mechanism.</p></li>
<li><p><strong>hide_visuals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, hide visual shapes after loading them (affects visibility, not loading).</p></li>
<li><p><strong>parse_visuals_as_colliders</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the geometry defined under the <cite>visual_classes</cite> tags is used for collision handling instead of the <cite>collider_classes</cite> geometries.</p></li>
<li><p><strong>parse_meshes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether geometries of type <cite>“mesh”</cite> should be parsed. If False, geometries of type <cite>“mesh”</cite> are ignored.</p></li>
<li><p><strong>parse_sites</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether sites (non-colliding reference points) should be parsed. If False, sites are ignored.</p></li>
<li><p><strong>parse_visuals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether visual geometries (non-collision shapes) should be loaded. If False, visual shapes are not loaded (different from <cite>hide_visuals</cite> which loads but hides them). Default is True.</p></li>
<li><p><strong>parse_mujoco_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether solver options from the MJCF <cite>&lt;option&gt;</cite> tag should be parsed. If False, solver options are not loaded and custom attributes retain their default values. Default is True.</p></li>
<li><p><strong>up_axis</strong> (<em>AxisType</em>) – The up axis of the MuJoCo scene. The default is Z up.</p></li>
<li><p><strong>ignore_names</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>]</em>) – A list of regular expressions. Bodies and joints with a name matching one of the regular expressions will be ignored.</p></li>
<li><p><strong>ignore_classes</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>]</em>) – A list of regular expressions. Bodies and joints with a class matching one of the regular expressions will be ignored.</p></li>
<li><p><strong>visual_classes</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>]</em>) – A list of regular expressions. Visual geometries with a class matching one of the regular expressions will be parsed.</p></li>
<li><p><strong>collider_classes</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>]</em>) – A list of regular expressions. Collision geometries with a class matching one of the regular expressions will be parsed.</p></li>
<li><p><strong>no_class_as_colliders</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, geometries without a class are parsed as collision geometries. If False, geometries without a class are parsed as visual geometries.</p></li>
<li><p><strong>force_show_colliders</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the collision shapes are always shown, even if there are visual shapes.</p></li>
<li><p><strong>enable_self_collisions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, self-collisions are enabled.</p></li>
<li><p><strong>ignore_inertial_definitions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the inertial parameters defined in the MJCF are ignored and the inertia is calculated from the shape geometry.</p></li>
<li><p><strong>ensure_nonstatic_links</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, links with zero mass are given a small mass (see <cite>static_link_mass</cite>) to ensure they are dynamic.</p></li>
<li><p><strong>static_link_mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The mass to assign to links with zero mass (if <cite>ensure_nonstatic_links</cite> is set to True).</p></li>
<li><p><strong>collapse_fixed_joints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, fixed joints are removed and the respective bodies are merged.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, print additional information about parsing the MJCF.</p></li>
<li><p><strong>skip_equality_constraints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether &lt;equality&gt; tags should be parsed. If True, equality constraints are ignored.</p></li>
<li><p><strong>convert_3d_hinge_to_ball_joints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, series of three hinge joints are converted to a single ball joint. Default is False.</p></li>
<li><p><strong>mesh_maxhullvert</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Maximum vertices for convex hull approximation of meshes.</p></li>
<li><p><strong>ctrl_direct</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, all actuators use <a class="reference internal" href="newton.solvers.SolverMuJoCo.html#newton.solvers.SolverMuJoCo.CtrlSource.CTRL_DIRECT" title="newton.solvers.SolverMuJoCo.CtrlSource.CTRL_DIRECT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CTRL_DIRECT</span></code></a> mode
where control comes directly from <code class="docutils literal notranslate"><span class="pre">control.mujoco.ctrl</span></code> (MuJoCo-native behavior).
See <a class="reference internal" href="../../concepts/custom_attributes.html#custom-attributes"><span class="std std-ref">Custom Attributes</span></a> for details on custom attributes. If False (default), position/velocity
actuators use <a class="reference internal" href="newton.solvers.SolverMuJoCo.html#newton.solvers.SolverMuJoCo.CtrlSource.JOINT_TARGET" title="newton.solvers.SolverMuJoCo.CtrlSource.JOINT_TARGET"><code class="xref py py-attr docutils literal notranslate"><span class="pre">JOINT_TARGET</span></code></a> mode where control comes
from <a class="reference internal" href="newton.Control.html#newton.Control.joint_target_pos" title="newton.Control.joint_target_pos"><code class="xref py py-attr docutils literal notranslate"><span class="pre">newton.Control.joint_target_pos</span></code></a> and <a class="reference internal" href="newton.Control.html#newton.Control.joint_target_vel" title="newton.Control.joint_target_vel"><code class="xref py py-attr docutils literal notranslate"><span class="pre">newton.Control.joint_target_vel</span></code></a>.</p></li>
<li><p><strong>path_resolver</strong> (<em>Callable</em>) – Callback to resolve file paths. Takes (base_dir, file_path) and returns a resolved path. For &lt;include&gt; elements, can return either a file path or XML content directly. For asset elements (mesh, texture, etc.), must return an absolute file path. The default resolver joins paths and returns absolute file paths.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_muscle">
<span class="sig-name descname"><span class="pre">add_muscle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bodies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pen</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_muscle" title="Link to this definition">#</a></dt>
<dd><p>Adds a muscle-tendon activation unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bodies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – A list of body indices for each waypoint</p></li>
<li><p><strong>positions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em>]</em>) – A list of positions of each waypoint in the body’s local frame</p></li>
<li><p><strong>f0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Force scaling</p></li>
<li><p><strong>lm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Muscle length</p></li>
<li><p><strong>lt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Tendon length</p></li>
<li><p><strong>lmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Maximally efficient muscle length</p></li>
<li><p><strong>pen</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Penalty factor</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the muscle in the model</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The simulation support for muscles is in progress and not yet fully functional.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_particle">
<span class="sig-name descname"><span class="pre">add_particle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">ParticleFlags.ACTIVE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_particle" title="Link to this definition">#</a></dt>
<dd><p>Adds a single particle to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The initial position of the particle.</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The initial velocity of the particle.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The mass of the particle.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The radius of the particle used in collision handling. If None, the radius is set to the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_particle_radius</span></code>).</p></li>
<li><p><strong>flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The flags that control the dynamical behavior of the particle, see <a class="reference internal" href="newton.ParticleFlags.html#newton.ParticleFlags" title="newton.ParticleFlags"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.ParticleFlags</span></code></a>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Set the mass equal to zero to create a ‘kinematic’ particle that is not subject to dynamics.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The index of the particle in the system.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_particle_grid">
<span class="sig-name descname"><span class="pre">add_particle_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jitter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_particle_grid" title="Link to this definition">#</a></dt>
<dd><p>Adds a regular 3D grid of particles to the model.</p>
<p>This helper function creates a grid of particles arranged in a rectangular lattice,
with optional random jitter and per-particle radius variation. The grid is defined
by its dimensions along each axis and the spacing between particles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The world-space position of the grid origin.</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.quatf.html#warp.quatf" title="(in Warp v1.11.1)"><em>quatf</em></a>) – The rotation to apply to the grid (as a quaternion).</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The initial velocity to assign to each particle.</p></li>
<li><p><strong>dim_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of particles along the X axis.</p></li>
<li><p><strong>dim_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of particles along the Y axis.</p></li>
<li><p><strong>dim_z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of particles along the Z axis.</p></li>
<li><p><strong>cell_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spacing between particles along the X axis.</p></li>
<li><p><strong>cell_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spacing between particles along the Y axis.</p></li>
<li><p><strong>cell_z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spacing between particles along the Z axis.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass to assign to each particle.</p></li>
<li><p><strong>jitter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Maximum random offset to apply to each particle position.</p></li>
<li><p><strong>radius_mean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Mean radius for particles. If None, uses the builder’s default.</p></li>
<li><p><strong>radius_std</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Standard deviation for particle radii. If &gt; 0, radii are sampled from a normal distribution.</p></li>
<li><p><strong>flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><em>None</em>) – Flags to assign to each particle. If None, uses the builder’s default.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values for the particles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_particles">
<span class="sig-name descname"><span class="pre">add_particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_particles" title="Link to this definition">#</a></dt>
<dd><p>Adds a group of particles to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em>]</em>) – The initial positions of the particles.</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em>]</em>) – The initial velocities of the particles.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>]</em>) – The mass of the particles.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The radius of the particles used in collision handling. If None, the radius is set to the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_particle_radius</span></code>).</p></li>
<li><p><strong>flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>] </em><em>| </em><em>None</em>) – The flags that control the dynamical behavior of the particles, see <a class="reference internal" href="newton.ParticleFlags.html#newton.ParticleFlags" title="newton.ParticleFlags"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.ParticleFlags</span></code></a>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to lists of values (one value for each particle).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Set the mass equal to zero to create a ‘kinematic’ particle that is not subject to dynamics.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_rod">
<span class="sig-name descname"><span class="pre">add_rod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quaternions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stretch_stiffness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stretch_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bend_stiffness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bend_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_in_articulation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_rod" title="Link to this definition">#</a></dt>
<dd><p>Adds a rod composed of capsule bodies connected by cable joints.</p>
<p>Constructs a chain of capsule bodies from the given centerline points and orientations.
Each segment is a capsule aligned by the corresponding quaternion, and adjacent capsules
are connected by cable joints providing one linear (stretch) and one angular (bend/twist)
degree of freedom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>positions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><em>Vec3</em><em>]</em>) – Centerline node positions (segment endpoints) in world space. These are the
tip/end points of the capsules, with one extra point so that for <code class="docutils literal notranslate"><span class="pre">N</span></code> segments there
are <code class="docutils literal notranslate"><span class="pre">N+1</span></code> positions.</p></li>
<li><p><strong>quaternions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><em>Quat</em><em>] </em><em>| </em><em>None</em>) – Optional per-segment (per-edge) orientations in world space. If provided,
must have <code class="docutils literal notranslate"><span class="pre">len(positions)</span> <span class="pre">-</span> <span class="pre">1</span></code> elements and each quaternion should align the capsule’s
local +Z with the segment direction <code class="docutils literal notranslate"><span class="pre">positions[i+1]</span> <span class="pre">-</span> <span class="pre">positions[i]</span></code>. If None,
orientations are computed automatically to align +Z with each segment direction.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Capsule radius.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – Shape configuration for the capsules. If None, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used.</p></li>
<li><p><strong>stretch_stiffness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Stretch stiffness for the cable joints. For rods, this is treated as a
material-like axial/shear stiffness (commonly interpreted as EA)
with units [N] and is internally converted to an effective point stiffness [N/m] by dividing by
segment length. If None, defaults to 1.0e9.</p></li>
<li><p><strong>stretch_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Stretch damping for the cable joints (applied per-joint; not length-normalized). If None,
defaults to 0.0.</p></li>
<li><p><strong>bend_stiffness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Bend/twist stiffness for the cable joints. For rods, this is treated as a
material-like bending/twist stiffness (e.g., EI) with units [N*m^2] and is internally converted to
an effective per-joint stiffness [N*m] (torque per radian) by dividing by segment length. If None,
defaults to 0.0.</p></li>
<li><p><strong>bend_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Bend/twist damping for the cable joints (applied per-joint; not length-normalized). If None,
defaults to 0.0.</p></li>
<li><p><strong>closed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, connects the last segment back to the first to form a closed loop. If False,
creates an open chain. Note: rods require at least 2 segments.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Optional key prefix for bodies, shapes, and joints.</p></li>
<li><p><strong>wrap_in_articulation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the created joints are automatically wrapped into a single
articulation. Defaults to True to ensure valid simulation models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(body_indices, joint_indices). For an open chain,
<code class="docutils literal notranslate"><span class="pre">len(joint_indices)</span> <span class="pre">==</span> <span class="pre">num_segments</span> <span class="pre">-</span> <span class="pre">1</span></code>; for a closed loop, <code class="docutils literal notranslate"><span class="pre">len(joint_indices)</span> <span class="pre">==</span> <span class="pre">num_segments</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>]]</p>
</dd>
</dl>
<dl class="simple">
<dt>Articulations:</dt><dd><p>By default (<code class="docutils literal notranslate"><span class="pre">wrap_in_articulation=True</span></code>), the created joints are wrapped into a single
articulation, which avoids orphan joints during <a class="reference internal" href="#newton.ModelBuilder.finalize" title="newton.ModelBuilder.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">wrap_in_articulation=False</span></code>, this method will return the created joint indices but will
not wrap them; callers must place them into one or more articulations (via <a class="reference internal" href="#newton.ModelBuilder.add_articulation" title="newton.ModelBuilder.add_articulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_articulation()</span></code></a>)
before calling <a class="reference internal" href="#newton.ModelBuilder.finalize" title="newton.ModelBuilder.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">positions</span></code> and <code class="docutils literal notranslate"><span class="pre">quaternions</span></code> lengths are incompatible.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If the rod has fewer than 2 segments.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Bend defaults are 0.0 (no bending resistance unless specified). Stretch defaults to a high
stiffness (1.0e9), which keeps neighboring capsules closely coupled (approximately inextensible).</p></li>
<li><p>Internally, stretch and bend stiffnesses are pre-scaled by dividing by segment length so solver kernels
do not need per-segment length normalization.</p></li>
<li><p>Damping values are passed through as provided (per joint) and are not length-normalized.</p></li>
<li><p>Each segment is implemented as a capsule primitive. The segment’s body transform is
placed at the start point <code class="docutils literal notranslate"><span class="pre">positions[i]</span></code> with a local center-of-mass offset of
<code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">half_height)</span></code> so that the COM lies at the segment midpoint. The capsule shape
is added with a local transform of <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">half_height)</span></code> so it spans from the start to
the end along local +Z.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_rod_graph">
<span class="sig-name descname"><span class="pre">add_rod_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stretch_stiffness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stretch_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bend_stiffness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bend_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_in_articulation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quaternions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">junction_collision_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_rod_graph" title="Link to this definition">#</a></dt>
<dd><p>Adds a rod/cable <em>graph</em> (supports junctions) from nodes + edges.</p>
<p>This is a generalization of <a class="reference internal" href="#newton.ModelBuilder.add_rod" title="newton.ModelBuilder.add_rod"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_rod()</span></code></a> to support branching/junction topologies.</p>
<p>Representation:</p>
<ul class="simple">
<li><p>Each <em>edge</em> becomes a capsule rigid body spanning from <code class="docutils literal notranslate"><span class="pre">node_positions[u]</span></code> to
<code class="docutils literal notranslate"><span class="pre">node_positions[v]</span></code> (body frame is placed at the start node <code class="docutils literal notranslate"><span class="pre">u</span></code> and local +Z points
toward <code class="docutils literal notranslate"><span class="pre">v</span></code>).</p></li>
<li><p>Cable joints are created between edge-bodies that share a node, using a spanning-tree
traversal so that each body has a single parent when wrapped into an articulation.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">wrap_in_articulation=True</span></code> (default), joints are created as a forest (one
articulation per connected component). This keeps the joint graph articulation-safe
(tree/forest), avoiding cycles at junctions.</p></li>
<li><p>Cycles in the edge adjacency graph are <em>not</em> explicitly closed with extra joints when
<code class="docutils literal notranslate"><span class="pre">wrap_in_articulation=True</span></code> (cycles would violate articulation tree constraints). If
you need closed loops, build them explicitly without articulation wrapping.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">wrap_in_articulation=False</span></code>, joints are created directly at each node to connect
all incident edges. This can preserve rings/loops, but does not produce an articulation
tree (edges may effectively have multiple “parents” in the joint graph).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_positions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><em>Vec3</em><em>]</em>) – Junction node positions in world space.</p></li>
<li><p><strong>edges</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em><em>]</em>) – List of (u, v) node index pairs defining rod segments. Each edge creates one
capsule body oriented so its local +Z points from node <code class="docutils literal notranslate"><span class="pre">u</span></code> to node <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Capsule radius.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – Shape configuration for the capsules. If None, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used.</p></li>
<li><p><strong>stretch_stiffness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Material-like axial stiffness (EA) [N], normalized by edge length
into an effective joint stiffness [N/m]. Defaults to 1.0e9.</p></li>
<li><p><strong>stretch_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Stretch damping (per joint). Defaults to 0.0.</p></li>
<li><p><strong>bend_stiffness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Material-like bend/twist stiffness (EI) [N*m^2], normalized by edge
length into an effective joint stiffness [N*m]. Defaults to 0.0.</p></li>
<li><p><strong>bend_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – Bend/twist damping (per joint). Defaults to 0.0.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Optional key prefix for bodies, shapes, joints, and articulations.</p></li>
<li><p><strong>wrap_in_articulation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, wraps the generated joint forest into one articulation
per connected component.</p></li>
<li><p><strong>quaternions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><em>Quat</em><em>] </em><em>| </em><em>None</em>) – Optional per-edge orientations in world space. If provided, must have
<code class="docutils literal notranslate"><span class="pre">len(edges)</span></code> elements and each quaternion must align the capsule’s local +Z with
the corresponding edge direction <code class="docutils literal notranslate"><span class="pre">node_positions[v]</span> <span class="pre">-</span> <span class="pre">node_positions[u]</span></code>. If
None, orientations are computed automatically to align +Z with each edge direction.</p></li>
<li><p><strong>junction_collision_filter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, adds collision filters between <em>non-jointed</em> segment
bodies that are incident to a junction node (degree &gt;= 3). This prevents immediate
self-collision impulses at welded junctions, even though the joint set is a spanning
tree (so not all incident body pairs are directly jointed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(body_indices, joint_indices) where bodies correspond to
edges in the same order as <code class="docutils literal notranslate"><span class="pre">edges</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape">
<span class="sig-name descname"><span class="pre">add_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_static</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape" title="Link to this definition">#</a></dt>
<dd><p>Adds a generic collision shape to the model.</p>
<p>This is the base method for adding shapes; prefer using specific helpers like <a class="reference internal" href="#newton.ModelBuilder.add_shape_sphere" title="newton.ModelBuilder.add_shape_sphere"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_shape_sphere()</span></code></a> where possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body (e.g., static world geometry).</p></li>
<li><p><strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The geometry type of the shape (e.g., <cite>GeoType.BOX</cite>, <cite>GeoType.SPHERE</cite>).</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the shape in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>scale</strong> (<em>Vec3</em><em> | </em><em>None</em>) – The scale of the geometry. The interpretation depends on the shape type. Defaults to <cite>(1.0, 1.0, 1.0)</cite> if <cite>None</cite>.</p></li>
<li><p><strong>src</strong> (<a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><em>SDF</em></a><em> | </em><a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><em>Mesh</em></a><em> | </em><em>Any</em><em> | </em><em>None</em>) – The source geometry data, e.g., a <a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> object for <cite>GeoType.MESH</cite> or an <a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">SDF</span></code></a> object for <cite>GeoType.SDF</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>is_static</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, the shape will have zero mass, and its density property in <cite>cfg</cite> will be effectively ignored for mass calculation. Typically used for fixed, non-movable collision geometry. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated (e.g., “shape_N”). Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_box">
<span class="sig-name descname"><span class="pre">add_shape_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_box" title="Link to this definition">#</a></dt>
<dd><p>Adds a box collision shape or site to a body.</p>
<p>The box is centered at its local origin as defined by <cite>xform</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the box in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>hx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The half-extent of the box along its local X-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>hy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The half-extent of the box along its local Y-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>hz</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The half-extent of the box along its local Z-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s properties. If <cite>None</cite>, uses <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> (or <a class="reference internal" href="#newton.ModelBuilder.default_site_cfg" title="newton.ModelBuilder.default_site_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_site_cfg</span></code></a> when <cite>as_site=True</cite>). If <cite>as_site=True</cite> and <cite>cfg</cite> is provided, a copy is made and site invariants are enforced via <cite>mark_as_site()</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>as_site</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, creates a site (non-colliding reference point) instead of a collision shape. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape or site.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_capsule">
<span class="sig-name descname"><span class="pre">add_shape_capsule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_capsule" title="Link to this definition">#</a></dt>
<dd><p>Adds a capsule collision shape or site to a body.</p>
<p>The capsule is centered at its local origin as defined by <cite>xform</cite>. Its length extends along the Z-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the capsule in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The radius of the capsule’s hemispherical ends and its cylindrical segment. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>half_height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The half-length of the capsule’s central cylindrical segment (excluding the hemispherical ends). Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s properties. If <cite>None</cite>, uses <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> (or <a class="reference internal" href="#newton.ModelBuilder.default_site_cfg" title="newton.ModelBuilder.default_site_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_site_cfg</span></code></a> when <cite>as_site=True</cite>). If <cite>as_site=True</cite> and <cite>cfg</cite> is provided, a copy is made and site invariants are enforced via <cite>mark_as_site()</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>as_site</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, creates a site (non-colliding reference point) instead of a collision shape. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape or site.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_collision_filter_pair">
<span class="sig-name descname"><span class="pre">add_shape_collision_filter_pair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_collision_filter_pair" title="Link to this definition">#</a></dt>
<dd><p>Add a collision filter pair in canonical order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape_a</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – First shape index</p></li>
<li><p><strong>shape_b</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Second shape index</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_cone">
<span class="sig-name descname"><span class="pre">add_shape_cone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_cone" title="Link to this definition">#</a></dt>
<dd><p>Adds a cone collision shape to a body.</p>
<p>The cone’s origin is at its geometric center, with the base at -half_height and apex at +half_height along the Z-axis.
The center of mass is located at -half_height/2 from the origin (1/4 of the total height from the base toward the apex).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the cone in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The radius of the cone’s base. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>half_height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The half-height of the cone (distance from the geometric center to either the base or apex). The total height is 2*half_height. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>as_site</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, creates a site (non-colliding reference point) instead of a collision shape. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for SHAPE frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_convex_hull">
<span class="sig-name descname"><span class="pre">add_shape_convex_hull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_convex_hull" title="Link to this definition">#</a></dt>
<dd><p>Adds a convex hull collision shape to a body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the convex hull in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>mesh</strong> (<a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><em>Mesh</em></a><em> | </em><em>None</em>) – The <a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> object containing the vertex data for the convex hull. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>scale</strong> (<em>Vec3</em><em> | </em><em>None</em>) – The scale of the convex hull. Defaults to <cite>None</cite>, in which case the scale is <cite>(1.0, 1.0, 1.0)</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_cylinder">
<span class="sig-name descname"><span class="pre">add_shape_cylinder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_cylinder" title="Link to this definition">#</a></dt>
<dd><p>Adds a cylinder collision shape or site to a body.</p>
<p>The cylinder is centered at its local origin as defined by <cite>xform</cite>. Its length extends along the Z-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the cylinder in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The radius of the cylinder. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>half_height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The half-length of the cylinder along the Z-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s properties. If <cite>None</cite>, uses <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> (or <a class="reference internal" href="#newton.ModelBuilder.default_site_cfg" title="newton.ModelBuilder.default_site_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_site_cfg</span></code></a> when <cite>as_site=True</cite>). If <cite>as_site=True</cite> and <cite>cfg</cite> is provided, a copy is made and site invariants are enforced via <cite>mark_as_site()</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>as_site</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, creates a site (non-colliding reference point) instead of a collision shape. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for SHAPE frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape or site.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_ellipsoid">
<span class="sig-name descname"><span class="pre">add_shape_ellipsoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_ellipsoid" title="Link to this definition">#</a></dt>
<dd><p>Adds an ellipsoid collision shape or site to a body.</p>
<p>The ellipsoid is centered at its local origin as defined by <cite>xform</cite>, with semi-axes
<cite>a</cite>, <cite>b</cite>, <cite>c</cite> along the local X, Y, Z axes respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ellipsoid collision is handled by the GJK/MPR collision pipeline,
which provides accurate collision detection for all convex shape pairs.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the ellipsoid in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>a</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The semi-axis of the ellipsoid along its local X-axis. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>b</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The semi-axis of the ellipsoid along its local Y-axis. Defaults to <cite>0.75</cite>.</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The semi-axis of the ellipsoid along its local Z-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s properties. If <cite>None</cite>, uses <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> (or <a class="reference internal" href="#newton.ModelBuilder.default_site_cfg" title="newton.ModelBuilder.default_site_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_site_cfg</span></code></a> when <cite>as_site=True</cite>). If <cite>as_site=True</cite> and <cite>cfg</cite> is provided, a copy is made and site invariants are enforced via <cite>mark_as_site()</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>as_site</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, creates a site (non-colliding reference point) instead of a collision shape. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape or site.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Create an ellipsoid with different semi-axes:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">builder = newton.ModelBuilder()</span>
<span class="go">body = builder.add_body()</span>

<span class="go"># Add an ellipsoid with semi-axes 1.0, 0.5, 0.25</span>
<span class="go">builder.add_shape_ellipsoid(</span>
<span class="go">    body=body,</span>
<span class="go">    a=1.0,  # X semi-axis</span>
<span class="go">    b=0.5,  # Y semi-axis</span>
<span class="go">    c=0.25,  # Z semi-axis</span>
<span class="go">)</span>

<span class="go"># A sphere is a special case where a = b = c</span>
<span class="go">builder.add_shape_ellipsoid(body=body, a=0.5, b=0.5, c=0.5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_mesh">
<span class="sig-name descname"><span class="pre">add_shape_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_mesh" title="Link to this definition">#</a></dt>
<dd><p>Adds a triangle mesh collision shape to a body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the mesh in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>mesh</strong> (<a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><em>Mesh</em></a><em> | </em><em>None</em>) – The <a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> object containing the vertex and triangle data. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>scale</strong> (<em>Vec3</em><em> | </em><em>None</em>) – The scale of the mesh. Defaults to <cite>None</cite>, in which case the scale is <cite>(1.0, 1.0, 1.0)</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for SHAPE frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_plane">
<span class="sig-name descname"><span class="pre">add_shape_plane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plane</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0,</span> <span class="pre">1.0,</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_plane" title="Link to this definition">#</a></dt>
<dd><p>Adds a plane collision shape to the model.</p>
<p>If <cite>xform</cite> is provided, it directly defines the plane’s position and orientation. The plane’s collision normal
is assumed to be along the local Z-axis of this <cite>xform</cite>.
If <cite>xform</cite> is <cite>None</cite>, it will be derived from the <cite>plane</cite> equation <cite>a*x + b*y + c*z + d = 0</cite>.
Plane shapes added via this method are always static (massless).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plane</strong> (<em>Vec4</em><em> | </em><em>None</em>) – The plane equation <cite>(a, b, c, d)</cite>. If <cite>xform</cite> is <cite>None</cite>, this defines the plane.
The normal is <cite>(a,b,c)</cite> and <cite>d</cite> is the offset. Defaults to <cite>(0.0, 0.0, 1.0, 0.0)</cite> (an XY ground plane at Z=0) if <cite>xform</cite> is also <cite>None</cite>.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the plane in the world or parent body’s frame. If <cite>None</cite>, transform is derived from <cite>plane</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The visual/collision extent of the plane along its local X-axis. If <cite>0.0</cite>, considered infinite for collision. Defaults to <cite>10.0</cite>.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The visual/collision extent of the plane along its local Y-axis. If <cite>0.0</cite>, considered infinite for collision. Defaults to <cite>10.0</cite>.</p></li>
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for world-static planes. Defaults to <cite>-1</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for SHAPE frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_sdf">
<span class="sig-name descname"><span class="pre">add_shape_sdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_sdf" title="Link to this definition">#</a></dt>
<dd><p>Adds a signed distance field (SDF) collision shape to a body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the SDF in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>sdf</strong> (<a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><em>SDF</em></a><em> | </em><em>None</em>) – The <a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">SDF</span></code></a> object representing the signed distance field. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute values for SHAPE frequency attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_sphere">
<span class="sig-name descname"><span class="pre">add_shape_sphere</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_sphere" title="Link to this definition">#</a></dt>
<dd><p>Adds a sphere collision shape or site to a body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the sphere in the parent body’s local frame. The sphere is centered at this transform’s position. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The radius of the sphere. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) – The configuration for the shape’s properties. If <cite>None</cite>, uses <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> (or <a class="reference internal" href="#newton.ModelBuilder.default_site_cfg" title="newton.ModelBuilder.default_site_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_site_cfg</span></code></a> when <cite>as_site=True</cite>). If <cite>as_site=True</cite> and <cite>cfg</cite> is provided, a copy is made and site invariants are enforced via <cite>mark_as_site()</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>as_site</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, creates a site (non-colliding reference point) instead of a collision shape. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape or site.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_site">
<span class="sig-name descname"><span class="pre">add_site</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">GeoType.SPHERE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.01,</span> <span class="pre">0.01,</span> <span class="pre">0.01)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_site" title="Link to this definition">#</a></dt>
<dd><p>Adds a site (non-colliding reference point) to a body.</p>
<p>Sites are abstract markers that don’t participate in physics simulation or collision detection.
They are useful for:
- Sensor attachment points (IMU, camera, etc.)
- Frame of reference definitions
- Debugging and visualization markers
- Spatial tendon attachment points (when exported to MuJoCo)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the parent body this site belongs to. Use -1 for sites not attached to any specific body (for sites defined a at static world position).</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – The transform of the site in the parent body’s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The geometry type for visualization (e.g., <cite>GeoType.SPHERE</cite>, <cite>GeoType.BOX</cite>). Defaults to <cite>GeoType.SPHERE</cite>.</p></li>
<li><p><strong>scale</strong> (<em>Vec3</em>) – The scale/size of the site for visualization. Defaults to <cite>(0.01, 0.01, 0.01)</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – An optional unique key for identifying the site. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>visible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the site will be visible for debugging. If False (default), the site is hidden.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added site (which is stored as a shape internally).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Add an IMU sensor site to a robot torso:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">body</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_body</span><span class="p">()</span>
<span class="n">imu_site</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">add_site</span><span class="p">(</span>
    <span class="n">body</span><span class="p">,</span>
    <span class="n">xform</span><span class="o">=</span><span class="n">wp</span><span class="o">.</span><span class="n">transform</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">wp</span><span class="o">.</span><span class="n">quat_identity</span><span class="p">()),</span>
    <span class="n">key</span><span class="o">=</span><span class="s2">&quot;imu_sensor&quot;</span><span class="p">,</span>
    <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Show for debugging</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_soft_grid">
<span class="sig-name descname"><span class="pre">add_soft_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_damp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_surface_mesh_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_soft_grid" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a rectangular tetrahedral FEM grid</p>
<p>Creates a regular grid of FEM tetrahedra and surface triangles. Useful for example
to create beams and sheets. Each hexahedral cell is decomposed into 5
tetrahedral elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The position of the solid in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.quatf.html#warp.quatf" title="(in Warp v1.11.1)"><em>quatf</em></a>) – The orientation of the solid in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The velocity of the solid in world space</p></li>
<li><p><strong>dim_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The number of rectangular cells along the x-axis</p></li>
<li><p><strong>dim_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The number of rectangular cells along the y-axis</p></li>
<li><p><strong>dim_z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The number of rectangular cells along the z-axis</p></li>
<li><p><strong>cell_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The width of each cell in the x-direction</p></li>
<li><p><strong>cell_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The width of each cell in the y-direction</p></li>
<li><p><strong>cell_z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The width of each cell in the z-direction</p></li>
<li><p><strong>density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The density of each particle</p></li>
<li><p><strong>k_mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The first elastic Lame parameter</p></li>
<li><p><strong>k_lambda</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The second elastic Lame parameter</p></li>
<li><p><strong>k_damp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The damping stiffness</p></li>
<li><p><strong>fix_left</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the left-most edge of particles kinematic (fixed in place)</p></li>
<li><p><strong>fix_right</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the right-most edge of particles kinematic</p></li>
<li><p><strong>fix_top</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the top-most edge of particles kinematic</p></li>
<li><p><strong>fix_bottom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Make the bottom-most edge of particles kinematic</p></li>
<li><p><strong>tri_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Stiffness for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_ka</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Area stiffness for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Damping for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_drag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Drag coefficient for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_lift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Lift coefficient for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>add_surface_mesh_edges</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to create zero-stiffness bending edges on the
generated surface mesh. These edges improve collision robustness for VBD solver. Defaults to True.</p></li>
<li><p><strong>edge_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Bending edge stiffness used when <code class="docutils literal notranslate"><span class="pre">add_surface_mesh_edges</span></code> is True. Defaults to 0.0.</p></li>
<li><p><strong>edge_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Bending edge damping used when <code class="docutils literal notranslate"><span class="pre">add_surface_mesh_edges</span></code> is True. Defaults to 0.0.</p></li>
<li><p><strong>particle_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – particle’s contact radius (controls rigidbody-particle contact distance)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The generated surface triangles and optional edges are for collision purposes.
Their stiffness and damping values default to zero so they do not introduce additional
elastic forces. Set the triangle stiffness parameters above to non-zero values if you
want the surface to behave like a thin skin.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_soft_mesh">
<span class="sig-name descname"><span class="pre">add_soft_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_damp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_surface_mesh_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_soft_mesh" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a tetrahedral model from an input tetrahedral mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The position of the solid in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.quatf.html#warp.quatf" title="(in Warp v1.11.1)"><em>quatf</em></a>) – The orientation of the solid in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a>) – The velocity of the solid in world space</p></li>
<li><p><strong>vertices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><em>vec3f</em></a><em>]</em>) – A list of vertex positions, array of 3D points</p></li>
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) – A list of tetrahedron indices, 4 entries per-element, flattened array</p></li>
<li><p><strong>density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The density per-area of the mesh</p></li>
<li><p><strong>k_mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The first elastic Lame parameter</p></li>
<li><p><strong>k_lambda</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The second elastic Lame parameter</p></li>
<li><p><strong>k_damp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The damping stiffness</p></li>
<li><p><strong>tri_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Stiffness for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_ka</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Area stiffness for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Damping for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_drag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Drag coefficient for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>tri_lift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Lift coefficient for surface mesh triangles. Defaults to 0.0.</p></li>
<li><p><strong>add_surface_mesh_edges</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to create zero-stiffness bending edges on the
generated surface mesh. These edges improve collision robustness for VBD solver. Defaults to True.</p></li>
<li><p><strong>edge_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Bending edge stiffness used when <code class="docutils literal notranslate"><span class="pre">add_surface_mesh_edges</span></code> is True. Defaults to 0.0.</p></li>
<li><p><strong>edge_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Bending edge damping used when <code class="docutils literal notranslate"><span class="pre">add_surface_mesh_edges</span></code> is True. Defaults to 0.0.</p></li>
<li><p><strong>particle_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – particle’s contact radius (controls rigidbody-particle contact distance)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The generated surface triangles and optional edges are for collision purposes.
Their stiffness and damping values default to zero so they do not introduce additional
elastic forces. Set the stiffness parameters above to non-zero values if you
want the surface to behave like a thin skin.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_spring">
<span class="sig-name descname"><span class="pre">add_spring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ke</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_spring" title="Link to this definition">#</a></dt>
<dd><p>Adds a spring between two particles in the system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the first particle</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the second particle</p></li>
<li><p><strong>ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The elastic stiffness of the spring</p></li>
<li><p><strong>kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The damping stiffness of the spring</p></li>
<li><p><strong>control</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The actuation level of the spring</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The spring is created with a rest-length based on the distance
between the particles in their initial configuration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_tetrahedron">
<span class="sig-name descname"><span class="pre">add_tetrahedron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0e3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_lambda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0e3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_damp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_tetrahedron" title="Link to this definition">#</a></dt>
<dd><p>Adds a tetrahedral FEM element between four particles in the system.</p>
<p>Tetrahedra are modeled as viscoelastic elements with a NeoHookean energy
density based on [Smith et al. 2018].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the first particle</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the second particle</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the third particle</p></li>
<li><p><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the fourth particle</p></li>
<li><p><strong>k_mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The first elastic Lame parameter</p></li>
<li><p><strong>k_lambda</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The second elastic Lame parameter</p></li>
<li><p><strong>k_damp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The element’s damping stiffness</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The volume of the tetrahedron</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The tetrahedron is created with a rest-pose based on the particle’s initial configuration</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_triangle">
<span class="sig-name descname"><span class="pre">add_triangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_triangle" title="Link to this definition">#</a></dt>
<dd><p>Adds a triangular FEM element between three particles in the system.</p>
<p>Triangles are modeled as viscoelastic elements with elastic stiffness and damping
parameters specified on the model. See <code class="xref py py-attr docutils literal notranslate"><span class="pre">tri_ke</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">tri_kd</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the first particle.</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the second particle.</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the third particle.</p></li>
<li><p><strong>tri_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The elastic stiffness of the triangle. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_ke</span></code>) is used.</p></li>
<li><p><strong>tri_ka</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The area stiffness of the triangle. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_ka</span></code>) is used.</p></li>
<li><p><strong>tri_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The damping stiffness of the triangle. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_kd</span></code>) is used.</p></li>
<li><p><strong>tri_drag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The drag coefficient of the triangle. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_drag</span></code>) is used.</p></li>
<li><p><strong>tri_lift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) – The lift coefficient of the triangle. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_lift</span></code>) is used.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The area of the triangle</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The triangle is created with a rest-length based on the distance
between the particles in their initial configuration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_triangles">
<span class="sig-name descname"><span class="pre">add_triangles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_triangles" title="Link to this definition">#</a></dt>
<dd><p>Adds triangular FEM elements between groups of three particles in the system.</p>
<p>Triangles are modeled as viscoelastic elements with elastic stiffness and damping
Parameters specified on the model. See model.tri_ke, model.tri_kd.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>] </em><em>| </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><em>ndarray</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>, </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.4)"><em>dtype</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>]</em><em>]</em>) – The indices of the first particle</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>] </em><em>| </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><em>ndarray</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>, </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.4)"><em>dtype</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>]</em><em>]</em>) – The indices of the second particle</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>] </em><em>| </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><em>ndarray</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>, </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.4)"><em>dtype</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>]</em><em>]</em>) – The indices of the third particle</p></li>
<li><p><strong>tri_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The elastic stiffness of the triangles. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_ke</span></code>) is used.</p></li>
<li><p><strong>tri_ka</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The area stiffness of the triangles. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_ka</span></code>) is used.</p></li>
<li><p><strong>tri_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The damping stiffness of the triangles. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_kd</span></code>) is used.</p></li>
<li><p><strong>tri_drag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The drag coefficient of the triangles. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_drag</span></code>) is used.</p></li>
<li><p><strong>tri_lift</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – The lift coefficient of the triangles. If None, the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_tri_lift</span></code>) is used.</p></li>
<li><p><strong>custom_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Dictionary of custom attribute names to values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The areas of the triangles</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a>]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A triangle is created with a rest-length based on the distance
between the particles in their initial configuration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_urdf">
<span class="sig-name descname"><span class="pre">add_urdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floating</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_joint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_visuals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_visuals_as_colliders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_show_colliders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_self_collisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_inertial_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_nonstatic_links</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static_link_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dfs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bodies_follow_joint_ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collapse_fixed_joints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_maxhullvert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_position_velocity_actuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_urdf" title="Link to this definition">#</a></dt>
<dd><p>Parses a URDF file and adds the bodies and joints to the given ModelBuilder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The filename of the URDF file to parse, or the URDF XML string content.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em>) – The transform to apply to the root body. If None, the transform is set to identity.</p></li>
<li><p><strong>floating</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the root body is a free joint. If False, the root body is connected via a fixed joint to the world, unless a <cite>base_joint</cite> is defined.</p></li>
<li><p><strong>base_joint</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>]</em>) – The joint by which the root body is connected to the world. This can be either a string defining the joint axes of a D6 joint with comma-separated positional and angular axis names (e.g. “px,py,rz” for a D6 joint with linear axes in x, y and an angular axis in z) or a dict with joint parameters (see <a class="reference internal" href="#newton.ModelBuilder.add_joint" title="newton.ModelBuilder.add_joint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelBuilder.add_joint()</span></code></a>).</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The scaling factor to apply to the imported mechanism.</p></li>
<li><p><strong>hide_visuals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, hide visual shapes.</p></li>
<li><p><strong>parse_visuals_as_colliders</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the geometry defined under the <cite>&lt;visual&gt;</cite> tags is used for collision handling instead of the <cite>&lt;collision&gt;</cite> geometries.</p></li>
<li><p><strong>up_axis</strong> (<em>AxisType</em>) – The up axis of the URDF. This is used to transform the URDF to the builder’s up axis. It also determines the up axis of capsules and cylinders in the URDF. The default is Z.</p></li>
<li><p><strong>force_show_colliders</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the collision shapes are always shown, even if there are visual shapes.</p></li>
<li><p><strong>enable_self_collisions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, self-collisions are enabled.</p></li>
<li><p><strong>ignore_inertial_definitions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the inertial parameters defined in the URDF are ignored and the inertia is calculated from the shape geometry.</p></li>
<li><p><strong>ensure_nonstatic_links</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, links with zero mass are given a small mass (see <cite>static_link_mass</cite>) to ensure they are dynamic.</p></li>
<li><p><strong>static_link_mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The mass to assign to links with zero mass (if <cite>ensure_nonstatic_links</cite> is set to True).</p></li>
<li><p><strong>joint_ordering</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The ordering of the joints in the simulation. Can be either “bfs” or “dfs” for breadth-first or depth-first search, or <code class="docutils literal notranslate"><span class="pre">None</span></code> to keep joints in the order in which they appear in the URDF. Default is “dfs”.</p></li>
<li><p><strong>bodies_follow_joint_ordering</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the bodies are added to the builder in the same order as the joints (parent then child body). Otherwise, bodies are added in the order they appear in the URDF. Default is True.</p></li>
<li><p><strong>collapse_fixed_joints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, fixed joints are removed and the respective bodies are merged.</p></li>
<li><p><strong>mesh_maxhullvert</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Maximum vertices for convex hull approximation of meshes.</p></li>
<li><p><strong>force_position_velocity_actuation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True and both position (stiffness) and velocity
(damping) gains are non-zero, joints use <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.POSITION_VELOCITY" title="newton.ActuatorMode.POSITION_VELOCITY"><code class="xref py py-attr docutils literal notranslate"><span class="pre">POSITION_VELOCITY</span></code></a> actuation mode.
If False (default), actuator modes are inferred per joint via <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.from_gains" title="newton.ActuatorMode.from_gains"><code class="xref py py-func docutils literal notranslate"><span class="pre">newton.ActuatorMode.from_gains()</span></code></a>:
<a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.POSITION" title="newton.ActuatorMode.POSITION"><code class="xref py py-attr docutils literal notranslate"><span class="pre">POSITION</span></code></a> if stiffness &gt; 0, <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.VELOCITY" title="newton.ActuatorMode.VELOCITY"><code class="xref py py-attr docutils literal notranslate"><span class="pre">VELOCITY</span></code></a> if only
damping &gt; 0, <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.EFFORT" title="newton.ActuatorMode.EFFORT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">EFFORT</span></code></a> if a drive is present but both gains are zero
(direct torque control), or <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.NONE" title="newton.ActuatorMode.NONE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">NONE</span></code></a> if no drive/actuation is applied.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_usd">
<span class="sig-name descname"><span class="pre">add_usd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_load_enabled_rigid_bodies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_load_enabled_joints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_drive_gains_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collapse_fixed_joints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_self_collisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_up_axis_from_stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dfs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bodies_follow_joint_ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_mesh_approximation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_visual_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_collision_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_mujoco_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_maxhullvert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_resolvers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_position_velocity_actuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_usd" title="Link to this definition">#</a></dt>
<dd><p>Parses a Universal Scene Description (USD) stage containing UsdPhysics schema definitions for rigid-body articulations and adds the bodies, shapes and joints to the given ModelBuilder.</p>
<p>The USD description has to be either a path (file name or URL), or an existing USD stage instance that implements the <a class="reference external" href="https://openusd.org/dev/api/class_usd_stage.html">Stage</a> interface.</p>
<p>See <a class="reference internal" href="../../concepts/usd_parsing.html#usd-parsing"><span class="std std-ref">USD Parsing and Schema Resolver System</span></a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>pxr.Usd.Stage</em>) – The file path to the USD file, or an existing USD stage instance.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em>) – The transform to apply to the entire scene.</p></li>
<li><p><strong>only_load_enabled_rigid_bodies</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, only rigid bodies which do not have <cite>physics:rigidBodyEnabled</cite> set to False are loaded.</p></li>
<li><p><strong>only_load_enabled_joints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, only joints which do not have <cite>physics:jointEnabled</cite> set to False are loaded.</p></li>
<li><p><strong>joint_drive_gains_scaling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The default scaling of the PD control gains (stiffness and damping), if not set in the PhysicsScene with as “newton:joint_drive_gains_scaling”.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, print additional information about the parsed USD file. Default is False.</p></li>
<li><p><strong>ignore_paths</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>]</em>) – A list of regular expressions matching prim paths to ignore.</p></li>
<li><p><strong>collapse_fixed_joints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, fixed joints are removed and the respective bodies are merged. Only considered if not set on the PhysicsScene as “newton:collapse_fixed_joints”.</p></li>
<li><p><strong>enable_self_collisions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Determines the default behavior of whether self-collisions are enabled for all shapes within an articulation. If an articulation has the attribute <code class="docutils literal notranslate"><span class="pre">physxArticulation:enabledSelfCollisions</span></code> defined, this attribute takes precedence.</p></li>
<li><p><strong>apply_up_axis_from_stage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the up axis of the stage will be used to set <code class="xref py py-attr docutils literal notranslate"><span class="pre">newton.ModelBuilder.up_axis</span></code>. Otherwise, the stage will be rotated such that its up axis aligns with the builder’s up axis. Default is False.</p></li>
<li><p><strong>root_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The USD path to import, defaults to “/”.</p></li>
<li><p><strong>joint_ordering</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The ordering of the joints in the simulation. Can be either “bfs” or “dfs” for breadth-first or depth-first search, or <code class="docutils literal notranslate"><span class="pre">None</span></code> to keep joints in the order in which they appear in the USD. Default is “dfs”.</p></li>
<li><p><strong>bodies_follow_joint_ordering</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, the bodies are added to the builder in the same order as the joints (parent then child body). Otherwise, bodies are added in the order they appear in the USD. Default is True.</p></li>
<li><p><strong>skip_mesh_approximation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, mesh approximation is skipped. Otherwise, meshes are approximated according to the <code class="docutils literal notranslate"><span class="pre">physics:approximation</span></code> attribute defined on the UsdPhysicsMeshCollisionAPI (if it is defined). Default is False.</p></li>
<li><p><strong>load_sites</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, sites (prims with MjcSiteAPI) are loaded as non-colliding reference points. If False, sites are ignored. Default is True.</p></li>
<li><p><strong>load_visual_shapes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, non-physics visual geometry is loaded. If False, visual-only shapes are ignored (sites are still controlled by <code class="docutils literal notranslate"><span class="pre">load_sites</span></code>). Default is True.</p></li>
<li><p><strong>hide_collision_shapes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, collision shapes are hidden. Default is False.</p></li>
<li><p><strong>parse_mujoco_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether MuJoCo solver options from the PhysicsScene should be parsed. If False, solver options are not loaded and custom attributes retain their default values. Default is True.</p></li>
<li><p><strong>mesh_maxhullvert</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Maximum vertices for convex hull approximation of meshes. Note that an authored <code class="docutils literal notranslate"><span class="pre">newton:maxHullVertices</span></code> attribute on any shape with a <code class="docutils literal notranslate"><span class="pre">NewtonMeshCollisionAPI</span></code> will take priority over this value.</p></li>
<li><p><strong>schema_resolvers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><em>SchemaResolver</em><em>]</em>) – <p>Resolver instances in priority order. Default is to only parse Newton-specific attributes.
Schema resolvers collect per-prim “solver-specific” attributes, see <a class="reference internal" href="../../concepts/usd_parsing.html#schema-resolvers"><span class="std std-ref">1. Solver Attribute Remapping</span></a> for more information.
These include namespaced attributes such as <code class="docutils literal notranslate"><span class="pre">newton:*</span></code>, <code class="docutils literal notranslate"><span class="pre">physx*</span></code>
(e.g., <code class="docutils literal notranslate"><span class="pre">physxScene:*</span></code>, <code class="docutils literal notranslate"><span class="pre">physxRigidBody:*</span></code>, <code class="docutils literal notranslate"><span class="pre">physxSDFMeshCollision:*</span></code>), and <code class="docutils literal notranslate"><span class="pre">mjc:*</span></code> that
are authored in the USD but not strictly required to build the simulation. This is useful for
inspection, experimentation, or custom pipelines that read these values via
<code class="xref py py-attr docutils literal notranslate"><span class="pre">newton.usd.SchemaResolverManager.schema_attrs</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using the <code class="docutils literal notranslate"><span class="pre">schema_resolvers</span></code> argument is an experimental feature that may be removed or changed significantly in the future.</p>
</div>
</p></li>
<li><p><strong>force_position_velocity_actuation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True and both stiffness (kp) and damping (kd)
are non-zero, joints use <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.POSITION_VELOCITY" title="newton.ActuatorMode.POSITION_VELOCITY"><code class="xref py py-attr docutils literal notranslate"><span class="pre">POSITION_VELOCITY</span></code></a> actuation mode.
If False (default), actuator modes are inferred per joint via <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.from_gains" title="newton.ActuatorMode.from_gains"><code class="xref py py-func docutils literal notranslate"><span class="pre">newton.ActuatorMode.from_gains()</span></code></a>:
<a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.POSITION" title="newton.ActuatorMode.POSITION"><code class="xref py py-attr docutils literal notranslate"><span class="pre">POSITION</span></code></a> if stiffness &gt; 0, <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.VELOCITY" title="newton.ActuatorMode.VELOCITY"><code class="xref py py-attr docutils literal notranslate"><span class="pre">VELOCITY</span></code></a> if only
damping &gt; 0, <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.EFFORT" title="newton.ActuatorMode.EFFORT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">EFFORT</span></code></a> if a drive is present but both gains are zero
(direct torque control), or <a class="reference internal" href="newton.ActuatorMode.html#newton.ActuatorMode.NONE" title="newton.ActuatorMode.NONE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">NONE</span></code></a> if no drive/actuation is applied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Dictionary with the following entries:</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;fps&quot;</span></code></p></td>
<td><p>USD stage frames per second</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;duration&quot;</span></code></p></td>
<td><p>Difference between end time code and start time code of the USD stage</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;up_axis&quot;</span></code></p></td>
<td><p><a class="reference internal" href="newton.Axis.html#newton.Axis" title="newton.Axis"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axis</span></code></a> representing the stage’s up axis (“X”, “Y”, or “Z”)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;path_body_map&quot;</span></code></p></td>
<td><p>Mapping from prim path (str) of a rigid body prim (e.g. that implements the PhysicsRigidBodyAPI) to the respective body index in <a class="reference internal" href="#newton.ModelBuilder" title="newton.ModelBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelBuilder</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;path_joint_map&quot;</span></code></p></td>
<td><p>Mapping from prim path (str) of a joint prim (e.g. that implements the PhysicsJointAPI) to the respective joint index in <a class="reference internal" href="#newton.ModelBuilder" title="newton.ModelBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelBuilder</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;path_shape_map&quot;</span></code></p></td>
<td><p>Mapping from prim path (str) of the UsdGeom to the respective shape index in <a class="reference internal" href="#newton.ModelBuilder" title="newton.ModelBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelBuilder</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;path_shape_scale&quot;</span></code></p></td>
<td><p>Mapping from prim path (str) of the UsdGeom to its respective 3D world scale</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;mass_unit&quot;</span></code></p></td>
<td><p>The stage’s Kilograms Per Unit (KGPU) definition (1.0 by default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;linear_unit&quot;</span></code></p></td>
<td><p>The stage’s Meters Per Unit (MPU) definition (1.0 by default)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;scene_attributes&quot;</span></code></p></td>
<td><p>Dictionary of all attributes applied to the PhysicsScene prim</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;collapse_results&quot;</span></code></p></td>
<td><p>Dictionary returned by <a class="reference internal" href="#newton.ModelBuilder.collapse_fixed_joints" title="newton.ModelBuilder.collapse_fixed_joints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newton.ModelBuilder.collapse_fixed_joints()</span></code></a> if <code class="docutils literal notranslate"><span class="pre">collapse_fixed_joints</span></code> is True, otherwise None.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;physics_dt&quot;</span></code></p></td>
<td><p>The resolved physics scene time step (float or None)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;schema_attrs&quot;</span></code></p></td>
<td><p>Dictionary of collected per-prim schema attributes (dict)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;max_solver_iterations&quot;</span></code></p></td>
<td><p>The resolved maximum solver iterations (int or None)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;path_body_relative_transform&quot;</span></code></p></td>
<td><p>Mapping from prim path to relative transform for bodies merged via <code class="docutils literal notranslate"><span class="pre">collapse_fixed_joints</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;path_original_body_map&quot;</span></code></p></td>
<td><p>Mapping from prim path to original body index before <code class="docutils literal notranslate"><span class="pre">collapse_fixed_joints</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_world">
<span class="sig-name descname"><span class="pre">add_world</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_world" title="Link to this definition">#</a></dt>
<dd><p>Add a builder as a new world.</p>
<p>This is a convenience method that combines <a class="reference internal" href="#newton.ModelBuilder.begin_world" title="newton.ModelBuilder.begin_world"><code class="xref py py-meth docutils literal notranslate"><span class="pre">begin_world()</span></code></a>,
<a class="reference internal" href="#newton.ModelBuilder.add_builder" title="newton.ModelBuilder.add_builder"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_builder()</span></code></a>, and <a class="reference internal" href="#newton.ModelBuilder.end_world" title="newton.ModelBuilder.end_world"><code class="xref py py-meth docutils literal notranslate"><span class="pre">end_world()</span></code></a> into a single call.
It’s the recommended way to add homogeneous worlds (multiple instances
of the same scene/robot).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> (<a class="reference internal" href="#newton.ModelBuilder" title="newton.ModelBuilder"><em>ModelBuilder</em></a>) – The builder containing entities to add as a new world.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) – Optional transform to apply to all root bodies
in the builder. Useful for spacing out worlds visually.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.14)"><strong>RuntimeError</strong></a> – If called when already in a world context (via begin_world).</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a robot blueprint</span>
<span class="n">robot</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">robot</span><span class="o">.</span><span class="n">add_body</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">robot</span><span class="o">.</span><span class="n">add_shape_box</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Create main scene with multiple robot instances</span>
<span class="n">scene</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add_ground_plane</span><span class="p">()</span>  <span class="c1"># Global ground plane</span>

<span class="c1"># Add multiple robot worlds</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">scene</span><span class="o">.</span><span class="n">add_world</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>  <span class="c1"># Each robot is a separate world</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.approximate_meshes">
<span class="sig-name descname"><span class="pre">approximate_meshes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'convex_hull'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_on_failure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_visual_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">remeshing_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.approximate_meshes" title="Link to this definition">#</a></dt>
<dd><p>Approximates the mesh shapes of the model.</p>
<p>The following methods are supported:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;coacd&quot;</span></code></p></td>
<td><p>Convex decomposition using <a class="reference external" href="https://github.com/wjakob/coacd">CoACD</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;vhacd&quot;</span></code></p></td>
<td><p>Convex decomposition using <a class="reference external" href="https://github.com/trimesh/vhacdx">V-HACD</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;bounding_sphere&quot;</span></code></p></td>
<td><p>Approximate the mesh with a sphere</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;bounding_box&quot;</span></code></p></td>
<td><p>Approximate the mesh with an oriented bounding box</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;convex_hull&quot;</span></code></p></td>
<td><p>Approximate the mesh with a convex hull (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;remeshing_method&gt;</span></code></p></td>
<td><p>Any remeshing method supported by <a class="reference internal" href="newton.geometry.remesh_mesh.html#newton.geometry.remesh_mesh" title="newton.geometry.remesh_mesh"><code class="xref py py-func docutils literal notranslate"><span class="pre">newton.geometry.remesh_mesh()</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">coacd</span></code> and <code class="docutils literal notranslate"><span class="pre">vhacd</span></code> methods require additional dependencies (<code class="docutils literal notranslate"><span class="pre">coacd</span></code> or <code class="docutils literal notranslate"><span class="pre">trimesh</span></code> and <code class="docutils literal notranslate"><span class="pre">vhacdx</span></code> respectively) to be installed.
The convex hull approximation requires <code class="docutils literal notranslate"><span class="pre">scipy</span></code> to be installed.</p>
</div>
<dl class="simple">
<dt>The <code class="docutils literal notranslate"><span class="pre">raise_on_failure</span></code> parameter controls the behavior when the remeshing fails:</dt><dd><ul class="simple">
<li><p>If <cite>True</cite>, an exception is raised when the remeshing fails.</p></li>
<li><dl class="simple">
<dt>If <cite>False</cite>, a warning is logged, and the method falls back to the next available method in the order of preference:</dt><dd><ul>
<li><p>If convex decomposition via CoACD or V-HACD fails or dependencies are not available, the method will fall back to using the <code class="docutils literal notranslate"><span class="pre">convex_hull</span></code> method.</p></li>
<li><p>If convex hull approximation fails, it will fall back to the <code class="docutils literal notranslate"><span class="pre">bounding_box</span></code> method.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><em>Literal</em></a><em>[</em><em>'coacd'</em><em>, </em><em>'vhacd'</em><em>, </em><em>'bounding_sphere'</em><em>, </em><em>'bounding_box'</em><em>, </em><em>'ftetwild'</em><em>, </em><em>'alphashape'</em><em>, </em><em>'quadratic'</em><em>, </em><em>'convex_hull'</em><em>, </em><em>'poisson'</em><em>]</em>) – The method to use for approximating the mesh shapes.</p></li>
<li><p><strong>shape_indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>] </em><em>| </em><em>None</em>) – The indices of the shapes to simplify. If <cite>None</cite>, all mesh shapes that have the <a class="reference internal" href="newton.ShapeFlags.html#newton.ShapeFlags.COLLIDE_SHAPES" title="newton.ShapeFlags.COLLIDE_SHAPES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ShapeFlags.COLLIDE_SHAPES</span></code></a> flag set are simplified.</p></li>
<li><p><strong>raise_on_failure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If <cite>True</cite>, raises an exception if the remeshing fails. If <cite>False</cite>, it will log a warning and continue with the fallback method.</p></li>
<li><p><strong>**remeshing_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>]</em>) – Additional keyword arguments passed to the remeshing function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A set of indices of the shapes that were successfully remeshed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.14)">set</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.begin_world">
<span class="sig-name descname"><span class="pre">begin_world</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.begin_world" title="Link to this definition">#</a></dt>
<dd><p>Begin a new world context for adding entities.</p>
<p>This method starts a new world scope where all subsequently added entities
(bodies, shapes, joints, particles, etc.) will be assigned to this world.
Use <a class="reference internal" href="#newton.ModelBuilder.end_world" title="newton.ModelBuilder.end_world"><code class="xref py py-meth docutils literal notranslate"><span class="pre">end_world()</span></code></a> to close the world context and return to the global scope.</p>
<p><strong>Important:</strong> Worlds cannot be nested. You must call <a class="reference internal" href="#newton.ModelBuilder.end_world" title="newton.ModelBuilder.end_world"><code class="xref py py-meth docutils literal notranslate"><span class="pre">end_world()</span></code></a> before
calling <a class="reference internal" href="#newton.ModelBuilder.begin_world" title="newton.ModelBuilder.begin_world"><code class="xref py py-meth docutils literal notranslate"><span class="pre">begin_world()</span></code></a> again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Optional unique identifier for this world. If None,
a default key “world_{index}” will be generated.</p></li>
<li><p><strong>attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Optional custom attributes to associate
with this world for later use.</p></li>
<li><p><strong>gravity</strong> (<em>Vec3</em><em> | </em><em>None</em>) – Optional gravity vector for this world. If None,
the world will use the builder’s default gravity (computed from
<code class="docutils literal notranslate"><span class="pre">self.gravity</span></code> and <code class="docutils literal notranslate"><span class="pre">self.up_vector</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.14)"><strong>RuntimeError</strong></a> – If called when already inside a world context (current_world != -1).</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>

<span class="c1"># Add global ground plane</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_ground_plane</span><span class="p">()</span>  <span class="c1"># Added to world -1 (global)</span>

<span class="c1"># Create world 0 with default gravity</span>
<span class="n">builder</span><span class="o">.</span><span class="n">begin_world</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;robot_0&quot;</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_body</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># Added to world 0</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_shape_box</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># Added to world 0</span>
<span class="n">builder</span><span class="o">.</span><span class="n">end_world</span><span class="p">()</span>

<span class="c1"># Create world 1 with custom zero gravity</span>
<span class="n">builder</span><span class="o">.</span><span class="n">begin_world</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;robot_1&quot;</span><span class="p">,</span> <span class="n">gravity</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_body</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># Added to world 1</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_shape_box</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># Added to world 1</span>
<span class="n">builder</span><span class="o">.</span><span class="n">end_world</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.collapse_fixed_joints">
<span class="sig-name descname"><span class="pre">collapse_fixed_joints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">wp.config.verbose</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.collapse_fixed_joints" title="Link to this definition">#</a></dt>
<dd><p>Removes fixed joints from the model and merges the bodies they connect. This is useful for simplifying the model for faster and more stable simulation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.color">
<span class="sig-name descname"><span class="pre">color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_bending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_max_min_color_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coloring_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">ColoringAlgorithm.MCS</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.color" title="Link to this definition">#</a></dt>
<dd><p>Runs coloring algorithm to generate coloring information.</p>
<p>This populates both <code class="xref py py-attr docutils literal notranslate"><span class="pre">particle_color_groups</span></code> (for particles) and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">body_color_groups</span></code> (for rigid bodies) on the builder, which are
consumed by <a class="reference internal" href="newton.solvers.SolverVBD.html#newton.solvers.SolverVBD" title="newton.solvers.SolverVBD"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.SolverVBD</span></code></a>.</p>
<p>Call <a class="reference internal" href="#newton.ModelBuilder.color" title="newton.ModelBuilder.color"><code class="xref py py-meth docutils literal notranslate"><span class="pre">color()</span></code></a> (or <a class="reference internal" href="#newton.ModelBuilder.set_coloring" title="newton.ModelBuilder.set_coloring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_coloring()</span></code></a>) before <a class="reference internal" href="#newton.ModelBuilder.finalize" title="newton.ModelBuilder.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a> when using
<a class="reference internal" href="newton.solvers.SolverVBD.html#newton.solvers.SolverVBD" title="newton.solvers.SolverVBD"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.SolverVBD</span></code></a>; <a class="reference internal" href="#newton.ModelBuilder.finalize" title="newton.ModelBuilder.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a> does not implicitly color the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_bending</strong> – Whether to include bending edges in the coloring graph. Set to <cite>True</cite> if your
model contains bending edges (added via <a class="reference internal" href="#newton.ModelBuilder.add_edge" title="newton.ModelBuilder.add_edge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_edge()</span></code></a>) that participate in bending constraints.
When enabled, the coloring graph includes connections between opposite vertices of each edge (o1-o2),
ensuring proper dependency handling for parallel bending computations. Leave as <cite>False</cite> if your model
has no bending edges or if bending edges should not affect the coloring.</p></li>
<li><p><strong>balance_colors</strong> – Whether to apply the color balancing algorithm to balance the size of each color</p></li>
<li><p><strong>target_max_min_color_ratio</strong> – the color balancing algorithm will stop when the ratio between the largest color and
the smallest color reaches this value</p></li>
<li><p><strong>algorithm</strong> – Value should be an enum type of ColoringAlgorithm, otherwise it will raise an error. ColoringAlgorithm.mcs means using the MCS coloring algorithm,
while ColoringAlgorithm.ordered_greedy means using the degree-ordered greedy algorithm. The MCS algorithm typically generates 30% to 50% fewer colors
compared to the ordered greedy algorithm, while maintaining the same linear complexity. Although MCS has a constant overhead that makes it about twice
as slow as the greedy algorithm, it produces significantly better coloring results. We recommend using MCS, especially if coloring is only part of the
preprocessing.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>References to the coloring algorithm:</p>
<p>MCS: Pereira, F. M. Q., &amp; Palsberg, J. (2005, November). Register allocation via coloring of chordal graphs. In Asian Symposium on Programming Languages and Systems (pp. 315-329). Berlin, Heidelberg: Springer Berlin Heidelberg.</p>
<p>Ordered Greedy: Ton-That, Q. M., Kry, P. G., &amp; Andrews, S. (2023). Parallel block Neo-Hookean XPBD using graph clustering. Computers &amp; Graphics, 110, 1-10.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.end_world">
<span class="sig-name descname"><span class="pre">end_world</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.end_world" title="Link to this definition">#</a></dt>
<dd><p>End the current world context and return to global scope.</p>
<p>After calling this method, subsequently added entities will be assigned
to the global world (-1) until <a class="reference internal" href="#newton.ModelBuilder.begin_world" title="newton.ModelBuilder.begin_world"><code class="xref py py-meth docutils literal notranslate"><span class="pre">begin_world()</span></code></a> is called again.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.14)"><strong>RuntimeError</strong></a> – If called when not in a world context (current_world == -1).</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span> <span class="o">=</span> <span class="n">ModelBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">begin_world</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_body</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># Added to current world</span>
<span class="n">builder</span><span class="o">.</span><span class="n">end_world</span><span class="p">()</span>  <span class="c1"># Return to global scope</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_ground_plane</span><span class="p">()</span>  <span class="c1"># Added to world -1 (global)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requires_grad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_all_validations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_validation_worlds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_validation_joints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_validation_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_validation_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_validation_joint_ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.finalize" title="Link to this definition">#</a></dt>
<dd><p>Finalize the builder and create a concrete <a class="reference internal" href="newton.Model.html#newton.Model" title="newton.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> for simulation.</p>
<p>This method transfers all simulation data from the builder to device memory,
returning a Model object ready for simulation. It should be called after all
elements (particles, bodies, shapes, joints, etc.) have been added to the builder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.Device.html#warp.Device" title="(in Warp v1.11.1)"><em>Device</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – The simulation device to use (e.g., ‘cpu’, ‘cuda’). If None, uses the current Warp device.</p></li>
<li><p><strong>requires_grad</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, enables gradient computation for the model (for differentiable simulation).</p></li>
<li><p><strong>skip_all_validations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, skips all validation checks. Use for maximum performance when
you are confident the model is valid. Default is False.</p></li>
<li><p><strong>skip_validation_worlds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, skips validation of world ordering and contiguity. Default is False.</p></li>
<li><p><strong>skip_validation_joints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, skips validation of joints belonging to an articulation. Default is False.</p></li>
<li><p><strong>skip_validation_shapes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, skips validation of shapes having valid contact margins. Default is False.</p></li>
<li><p><strong>skip_validation_structure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, skips validation of structural invariants (body/joint references,
array lengths, monotonicity). Default is False.</p></li>
<li><p><strong>skip_validation_joint_ordering</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – If True, skips validation of DFS topological joint ordering within
articulations. Default is True (opt-in) because this check has O(n log n) complexity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A fully constructed Model object containing all simulation data on the specified device.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="newton.Model.html#newton.Model" title="newton.Model">Model</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Performs validation and correction of rigid body inertia and mass properties.</p></li>
<li><p>Closes all start-index arrays (e.g., for muscles, joints, articulations) with sentinel values.</p></li>
<li><p>Sets up all arrays and properties required for simulation, including particles, bodies, shapes,
joints, springs, muscles, constraints, and collision/contact data.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.find_shape_contact_pairs">
<span class="sig-name descname"><span class="pre">find_shape_contact_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.find_shape_contact_pairs" title="Link to this definition">#</a></dt>
<dd><p>Identifies and stores all potential shape contact pairs for collision detection.</p>
<p>This method examines the collision groups and collision masks of all shapes in the model
to determine which pairs of shapes should be considered for contact generation. It respects
any user-specified collision filter pairs to avoid redundant or undesired contacts.</p>
<p>The resulting contact pairs are stored in the model as a 2D array of shape indices.</p>
<p>Uses the exact same filtering logic as the broad phase kernels (test_world_and_group_pair)
to ensure consistency between EXPLICIT mode (precomputed pairs) and NXN/SAP modes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<a class="reference internal" href="newton.Model.html#newton.Model" title="newton.Model"><em>Model</em></a>) – The simulation model to which the contact pairs will be assigned.</p>
</dd>
</dl>
<dl class="simple">
<dt>Side Effects:</dt><dd><ul class="simple">
<li><p>Sets <cite>model.shape_contact_pairs</cite> to a wp.array of shape pairs (wp.vec2i).</p></li>
<li><p>Sets <cite>model.shape_contact_pair_count</cite> to the number of contact pairs found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.get_custom_attributes_by_frequency">
<span class="sig-name descname"><span class="pre">get_custom_attributes_by_frequency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequencies</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.get_custom_attributes_by_frequency" title="Link to this definition">#</a></dt>
<dd><p>Get custom attributes by frequency.
This is useful for processing custom attributes for different kinds of simulation objects.
For example, you can get all the custom attributes for bodies, shapes, joints, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>frequencies</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="newton.Model.html#newton.Model.AttributeFrequency" title="newton.Model.AttributeFrequency"><em>Model.AttributeFrequency</em></a><em>]</em>) – The frequencies to get custom attributes for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of custom attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a>[<a class="reference internal" href="#newton.ModelBuilder.CustomAttribute" title="newton.ModelBuilder.CustomAttribute">CustomAttribute</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.get_custom_frequency_keys">
<span class="sig-name descname"><span class="pre">get_custom_frequency_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.get_custom_frequency_keys" title="Link to this definition">#</a></dt>
<dd><p>Return set of custom frequency keys (string frequencies) defined in this builder.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.has_custom_attribute">
<span class="sig-name descname"><span class="pre">has_custom_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.has_custom_attribute" title="Link to this definition">#</a></dt>
<dd><p>Check if a custom attribute is defined.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.plot_articulation">
<span class="sig-name descname"><span class="pre">plot_articulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_body_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_joint_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_joint_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_shape_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_shape_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.plot_articulation" title="Link to this definition">#</a></dt>
<dd><p>Visualizes the model’s articulation graph using matplotlib and networkx.
Uses the spring layout algorithm from networkx to arrange the nodes.
Bodies are shown as orange squares, shapes are shown as blue circles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_body_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to show the body keys or indices</p></li>
<li><p><strong>show_joint_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to show the joint keys or indices</p></li>
<li><p><strong>show_joint_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to show the joint types</p></li>
<li><p><strong>plot_shapes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to render the shapes connected to the rigid bodies</p></li>
<li><p><strong>show_shape_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to show the shape keys or indices</p></li>
<li><p><strong>show_shape_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to show the shape geometry types</p></li>
<li><p><strong>show_legend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) – Whether to show a legend</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.replicate">
<span class="sig-name descname"><span class="pre">replicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_worlds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.replicate" title="Link to this definition">#</a></dt>
<dd><p>Replicates the given builder multiple times, offsetting each copy according to the supplied spacing.</p>
<p>This method is useful for creating multiple instances of a sub-model (e.g., robots, scenes)
arranged in a regular grid or along a line. Each copy is offset in space by a multiple of the
specified spacing vector, and all entities from each copy are assigned to a new world.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For visual separation of worlds, it is recommended to use the viewer’s
<cite>set_world_offsets()</cite> method instead of physical spacing. This improves numerical
stability by keeping all worlds at the origin in the physics simulation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> (<a class="reference internal" href="#newton.ModelBuilder" title="newton.ModelBuilder"><em>ModelBuilder</em></a>) – The builder to replicate. All entities from this builder will be copied.</p></li>
<li><p><strong>num_worlds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The number of worlds to create.</p></li>
<li><p><strong>spacing</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>]</em><em>, </em><em>optional</em>) – The spacing between each copy along each axis.
For example, (5.0, 5.0, 0.0) arranges copies in a 2D grid in the XY plane.
Defaults to (0.0, 0.0, 0.0).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.request_contact_attributes">
<span class="sig-name descname"><span class="pre">request_contact_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">attributes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.request_contact_attributes" title="Link to this definition">#</a></dt>
<dd><p>Request that specific contact attributes be allocated when creating a Contacts object from the finalized Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Variable number of attribute names (strings).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.request_state_attributes">
<span class="sig-name descname"><span class="pre">request_state_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">attributes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.request_state_attributes" title="Link to this definition">#</a></dt>
<dd><p>Request that specific state attributes be allocated when creating a State object from the finalized Model.</p>
<p>See <a class="reference internal" href="../../concepts/extended_attributes.html#extended-state-attributes"><span class="std std-ref">Extended State Attributes</span></a> for details and usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Variable number of attribute names (strings).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.set_coloring">
<span class="sig-name descname"><span class="pre">set_coloring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle_color_groups</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.set_coloring" title="Link to this definition">#</a></dt>
<dd><p>Sets coloring information with user-provided coloring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>particle_color_groups</strong> – A list of list or <cite>np.array</cite> with <cite>dtype`=`int</cite>. The length of the list is the number of colors
and each list or <cite>np.array</cite> contains the indices of vertices with this color.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.validate_joint_ordering">
<span class="sig-name descname"><span class="pre">validate_joint_ordering</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.validate_joint_ordering" title="Link to this definition">#</a></dt>
<dd><p>Validate that joints within articulations follow DFS topological ordering.</p>
<p>This check ensures that joints are ordered such that parent bodies are processed
before child bodies within each articulation. This ordering is required by some
solvers (e.g., MuJoCo) for correct kinematic computations.</p>
<p>This method is public and opt-in because the check has O(n log n) complexity
due to topological sorting. It is skipped by default in finalize().</p>
<dl class="field-list simple">
<dt class="field-odd">Warns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>UserWarning</strong> – If joints are not in DFS topological order.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if joints are correctly ordered, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.articulation_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">articulation_count</span></span><a class="headerlink" href="#newton.ModelBuilder.articulation_count" title="Link to this definition">#</a></dt>
<dd><p>The number of articulations in the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.balance_inertia">
<span class="sig-name descname"><span class="pre">balance_inertia</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><a class="headerlink" href="#newton.ModelBuilder.balance_inertia" title="Link to this definition">#</a></dt>
<dd><p>Whether to automatically correct rigid body inertia tensors that violate the triangle inequality.
When True, adds a scalar multiple of the identity matrix to preserve rotation structure while
ensuring physical validity (I1 + I2 &gt;= I3 for principal moments). Default: True.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.body_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">body_count</span></span><a class="headerlink" href="#newton.ModelBuilder.body_count" title="Link to this definition">#</a></dt>
<dd><p>The number of rigid bodies in the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.bound_inertia">
<span class="sig-name descname"><span class="pre">bound_inertia</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><a class="headerlink" href="#newton.ModelBuilder.bound_inertia" title="Link to this definition">#</a></dt>
<dd><p>Minimum allowed eigenvalue for rigid body inertia tensors. If set, ensures all principal
moments of inertia are at least this value. Set to None to disable inertia eigenvalue
clamping. Default: None.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.bound_mass">
<span class="sig-name descname"><span class="pre">bound_mass</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><a class="headerlink" href="#newton.ModelBuilder.bound_mass" title="Link to this definition">#</a></dt>
<dd><p>Minimum allowed mass value for rigid bodies. If set, any body mass below this value will be
clamped to this minimum. Set to None to disable mass clamping. Default: None.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.default_site_cfg">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_site_cfg</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><span class="pre">ShapeConfig</span></a></em><a class="headerlink" href="#newton.ModelBuilder.default_site_cfg" title="Link to this definition">#</a></dt>
<dd><p>Returns a ShapeConfig configured for sites (non-colliding reference points).</p>
<p>This config has all site invariants enforced:
- is_site = True
- has_shape_collision = False
- has_particle_collision = False
- density = 0.0
- collision_group = 0</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A new configuration suitable for creating sites.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig">ShapeConfig</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.edge_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edge_count</span></span><a class="headerlink" href="#newton.ModelBuilder.edge_count" title="Link to this definition">#</a></dt>
<dd><p>The number of edges (for bending) in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.joint_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">joint_count</span></span><a class="headerlink" href="#newton.ModelBuilder.joint_count" title="Link to this definition">#</a></dt>
<dd><p>The number of joints in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.muscle_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">muscle_count</span></span><a class="headerlink" href="#newton.ModelBuilder.muscle_count" title="Link to this definition">#</a></dt>
<dd><p>The number of muscles in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.particle_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">particle_count</span></span><a class="headerlink" href="#newton.ModelBuilder.particle_count" title="Link to this definition">#</a></dt>
<dd><p>The number of particles in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.shape_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape_count</span></span><a class="headerlink" href="#newton.ModelBuilder.shape_count" title="Link to this definition">#</a></dt>
<dd><p>The number of shapes in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.spring_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spring_count</span></span><a class="headerlink" href="#newton.ModelBuilder.spring_count" title="Link to this definition">#</a></dt>
<dd><p>The number of springs in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.tet_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tet_count</span></span><a class="headerlink" href="#newton.ModelBuilder.tet_count" title="Link to this definition">#</a></dt>
<dd><p>The number of tetrahedra in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.tri_count">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tri_count</span></span><a class="headerlink" href="#newton.ModelBuilder.tri_count" title="Link to this definition">#</a></dt>
<dd><p>The number of triangles in the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.up_vector">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">up_vector</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://nvidia.github.io/warp/api_reference/_generated/warp.vec3f.html#warp.vec3f" title="(in Warp v1.11.1)"><span class="pre">vec3f</span></a></em><a class="headerlink" href="#newton.ModelBuilder.up_vector" title="Link to this definition">#</a></dt>
<dd><p>Returns the 3D unit vector corresponding to the current up axis (read-only).</p>
<p>This property computes the up direction as a 3D vector based on the value of <code class="xref py py-attr docutils literal notranslate"><span class="pre">up_axis</span></code>.
For example, if <code class="docutils literal notranslate"><span class="pre">up_axis</span></code> is <code class="docutils literal notranslate"><span class="pre">Axis.Z</span></code>, this returns <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">1)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The 3D up vector corresponding to the current up axis.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Vec3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.validate_inertia_detailed">
<span class="sig-name descname"><span class="pre">validate_inertia_detailed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><a class="headerlink" href="#newton.ModelBuilder.validate_inertia_detailed" title="Link to this definition">#</a></dt>
<dd><p>Whether to use detailed (slower) inertia validation that provides per-body warnings.
When False, uses a fast GPU kernel that reports only the total number of corrected bodies
and directly assigns the corrected arrays to the Model (ModelBuilder state is not updated).
When True, uses a CPU implementation that reports specific issues for each body and updates
the ModelBuilder’s internal state.
Default: False.</p>
</dd></dl>

</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder"><code class="docutils literal notranslate"><span class="pre">ModelBuilder</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.__init__"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.__init__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.build_array"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.build_array()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.assignment"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.assignment</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.dtype"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.dtype</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.frequency"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.frequency</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.frequency_key"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.frequency_key</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.is_custom_frequency"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.is_custom_frequency</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.key"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.key</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.CustomAttribute.name"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.CustomAttribute.name</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.create_unlimited"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.create_unlimited()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.__init__"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.__init__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.actuator_mode"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.actuator_mode</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.armature"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.armature</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.axis"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.axis</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.effort_limit"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.effort_limit</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.friction"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.friction</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_kd"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_kd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_ke"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_ke</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_lower"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_lower</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_upper"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_upper</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.target_kd"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.target_kd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.target_ke"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.target_ke</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.target_pos"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.target_pos</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.target_vel"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.target_vel</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.velocity_limit"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.velocity_limit</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.__init__"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.__init__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.mark_as_site"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.mark_as_site()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.validate"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.validate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.collision_filter_parent"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.collision_filter_parent</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.collision_group"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.collision_group</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.density"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.density</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.flags"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.flags</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.has_particle_collision"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.has_particle_collision</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.has_shape_collision"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.has_shape_collision</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.is_hydroelastic"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.is_hydroelastic</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.is_site"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.is_site</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.is_solid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.is_solid</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.is_visible"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.is_visible</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.k_hydro"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.k_hydro</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.ka"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.ka</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.kd"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.kd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.ke"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.ke</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.kf"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.kf</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.mu"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.mu</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.restitution"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.restitution</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.rolling_friction"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.rolling_friction</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.sdf_narrow_band_range"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.sdf_narrow_band_range</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.thickness"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.thickness</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.torsional_friction"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.torsional_friction</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.__init__"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_articulation"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_articulation()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_body"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_body()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_builder"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_builder()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_cloth_grid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_cloth_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_cloth_mesh"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_cloth_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_custom_attribute"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_custom_attribute()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_custom_values"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_custom_values()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_edge"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_edge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_edges"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_equality_constraint"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_equality_constraint()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_equality_constraint_connect"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_equality_constraint_connect()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_equality_constraint_joint"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_equality_constraint_joint()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_equality_constraint_weld"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_equality_constraint_weld()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_free_joints_to_floating_bodies"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_free_joints_to_floating_bodies()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_ground_plane"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_ground_plane()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_ball"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_ball()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_cable"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_cable()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_d6"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_d6()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_distance"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_fixed"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_fixed()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_free"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_free()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_prismatic"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_prismatic()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_revolute"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_revolute()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_link"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_link()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_mjcf"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_mjcf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_muscle"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_muscle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_particle"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_particle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_particle_grid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_particle_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_particles"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_particles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_rod"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_rod()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_rod_graph"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_rod_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_box"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_box()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_capsule"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_capsule()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_collision_filter_pair"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_collision_filter_pair()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_cone"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_cone()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_convex_hull"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_convex_hull()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_cylinder"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_cylinder()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_ellipsoid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_ellipsoid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_mesh"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_plane"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_plane()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_sdf"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_sdf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_sphere"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_sphere()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_site"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_site()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_soft_grid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_soft_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_soft_mesh"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_soft_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_spring"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_spring()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_tetrahedron"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_tetrahedron()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_triangle"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_triangle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_triangles"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_triangles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_urdf"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_urdf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_usd"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_usd()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_world"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_world()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.approximate_meshes"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.approximate_meshes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.begin_world"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.begin_world()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.collapse_fixed_joints"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.collapse_fixed_joints()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.color"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.color()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.end_world"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.end_world()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.finalize"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.finalize()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.find_shape_contact_pairs"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.find_shape_contact_pairs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.get_custom_attributes_by_frequency"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.get_custom_attributes_by_frequency()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.get_custom_frequency_keys"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.get_custom_frequency_keys()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.has_custom_attribute"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.has_custom_attribute()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.plot_articulation"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.plot_articulation()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.replicate"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.replicate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.request_contact_attributes"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.request_contact_attributes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.request_state_attributes"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.request_state_attributes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.set_coloring"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.set_coloring()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.validate_joint_ordering"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.validate_joint_ordering()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.articulation_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.articulation_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.balance_inertia"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.balance_inertia</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.body_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.body_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.bound_inertia"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.bound_inertia</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.bound_mass"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.bound_mass</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.default_site_cfg"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.default_site_cfg</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.edge_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.edge_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.joint_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.joint_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.muscle_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.muscle_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.particle_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.particle_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.shape_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.shape_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.spring_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.spring_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.tet_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.tet_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.tri_count"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.tri_count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.up_vector"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.up_vector</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.validate_inertia_detailed"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.validate_inertia_detailed</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2026, The Newton Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>